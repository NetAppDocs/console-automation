swagger: "2.0"
info:
  title: NetApp Backup and Recovery REST API Reference
  version: 4.0.6
  description: '<details><summary><strong>Overview</strong></summary><p>NetApp
    Backup and Recovery is a service embedded within the NetApp Console platform
    that provides backup and restore capabilities for protection and long-term
    archiving of your data residing in Cloud Volumes ONTAP and on-premises ONTAP
    clusters (AFF/FAS/OTS). By using this service, you can automatically
    generate and store backups in an object store in the public or private cloud
    account of your choice, and you can easily restore data any time and to any
    location, as per your requirements.</p><p> There are thirteen categories of
    endpoints defined within the Backup and Recovery service:</p><ul><li> backup
    </li><li> catalog </li><li> cloud </li><li> job </li><li> license </li><li>
    restore </li><li> single file-level restore (SFR) </li><li>  system
    </li><li>storagegrid (sg)</li> <li>ransomware scan</li><li>panaromic
    protection</li><li>replication</li><li>reports</li></ul><p> Note: Before
    using the API reference documentation, review the
    <a    href="https://docs.netapp.com/us-en/console-automation/platform/overview.html">Get
    started</a> section for the NetApp Console APIs. For more information about the
    security tokens and identifiers you’ll need when using the API, review the
    Common workflows and tasks section
    <a    href="https://docs.netapp.com/us-en/console-automation/platform/get_identifiers.html">Common
    workflows and tasks</a> section.</p> <br></details><hr
    />    <details><summary><strong>
    REST    implementation</strong></summary><h3>HTTP    methods</h3><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>POST</code></td><td>Create
    an object instance</td></tr><tr><td><code>GET</code></td><td>Retrieve
    an  object instance
    or  collection</td></tr><tr><td><code>PATCH</code></td><td>Update an
    existing     object</td></tr><tr><td><code>DELETE</code></td><td>Remove an
    existing  object</td></tr></tbody></table><h3>Request   headers</h3><table><thead><tr><th>Request
    Header</th><th>Description</th></tr></thead><tbody><tr><td><code>Authorization</code></td><td>Required.Contains
    a JWT access
    token</td></tr><tr><td><code>x-agent-id</code></td><td>Required. Contains
    the Console agent ID.
    </td></tr><tr><td><code>x-netapp-cache-control</code></td><td>Using this
    header will bypass the local cache and retrieve actual data from upstream
    sources like a NetApp Console SaaS application and ONTAP
    clusters.</td></tr></tbody></table><h3>Query parameters</h3><p>You can use
    query parameters with endpoints in the
    following    components:</p><table><thead><tr><th>Component</th><th>Query    Parameter</th></tr></thead><tbody><tr><td>sfr</td><td>accountId(required),</br>volumeId,</br>snapshotId.</br>    <tbody><tr><td>backup</td><td>accountId(required),</br>workingEnvironmentId,</br>volumeId,</br>snapshotId.</br>    <tbody><tr><td>restore</td><td>accountId(required).</br>  <tbody><tr><td>system </td><td>accountId(required),</br>workingEnvironmentId,</br>volumeId,</br>snapshotId.</b>    <tbody><tr><td>cloud</td><td>accountId(required),</br>workingEnvironmentId,</br>volumeId,</br>snapshotId,</b>awsAccountId,</br>regionCode,</br>subscriptionId,</br>vaultName,</br>projectId,</br>jobId.
    <tbody><tr><td>license</td><td>accountId(required),</br>workingEnvironmentId.</br>    <tbody><tr><td>catalog</td><td>accountId(required),</br>workingEnvironmentId.</br>    <tbody><tr><td>job</td><td>accountId(required),</br>jobId.    </td></tr></tbody></table><h3>Response
    headers</h3><p>This API uses the standard HTTP response headers common with
    all NetApp Console APIs. See
    <a    href="https://docs.netapp.com/us-en/console-automation/platform/http_details.html#request-headers">REST
    implementation</a> for more information.</p><h3>HTTP
    status    codes</h3><table><thead><tr><th>HTTP
    Status    Code</th><th>Description</th></tr></thead><tbody><tr><td><code>200</code></td><td>OK:Returned  for
    successful
    operation     completion</td></tr><tr><td><code>400</code></td><td>Bad
    Request:Returned if the input is malformed and could not
    be    parsed</td></tr><tr><td><code>401</code></td><td>Unauthorized:Returned
    if user authentication failed or the token
    has   expired</td></tr><tr><td><code>403</code></td><td>Forbidden:Returned
    for authorization errors depending on the resource
    and    token</td></tr></tbody></table></details><hr /> <details>
    <summary><strong>Error handling</strong> </summary><p>There are two
    processes involved with error handling and processing.</p><ul><li>The error
    is logged for supportability</li><li>The error is also returned to the
    caller for any specific handling</li></ul></details><hr />
    <details><summary><strong>cURL  examples</strong></summary><h3>Retrieve
    specific volume details</h3><p>This example retrieves the details of a
    specific volume that has been backed up by using the Backup and Recovery
    service.</p><pre><code  class="language-bash">curl -X
    GET    &quot;https://cloudmanager.cloud.netapp.com/account/(account_id)/providers/cloudmanager_cbs/api/v1/backup/working-environment/(working_environment_id)/volume/(volume_id)&quot;   -H
    &quot;accept: application/json&quot; -H &quot;authorization: (user
    token)&quot; </code></pre></details><hr
    />  <details>    <summary><strong>Frequently asked
    questions</strong></summary> <p><strong>There are multiple versions of the
    same command. Which version should I use?</strong></p>  <p>If there are
    multiple versions of the same API endpoint, make sure to use the latest
    version of the API. The version of each endpoint is mentioned in the path.
    </p> <p><strong>What’s the difference between a user token and service token
    and why do we need two types of token authorization ?</strong></p> <p>A user
    token is used for communication between a user (or the UI) and the NetApp Console
    REST APIs, whereas the service token is used for communication    between
    two services (machine-to-machine interaction) in the NetApp Console platform. The
    type of token required to invoke an API is documented in the  description of
    each endpoint.</p> <p><strong>What is the difference between SFR NetApp Backup
    and Recovery APIs and Catalog NetApp Backup and Recovery
    APIs?</strong></p><p>The SFR NetApp Backup and Recovery APIs provide the
    option to use the "Browse and Restore" feature while performing a volume
    level or single/multiple file restore operation from backups stored on the
    cloud. The Catalog NetApp Backup and Recovery APIs have introduced a new
    "Search and Restore" feature, which enables you to search for a specific
    file from all backups stored on Amazon S3 cloud storage and then perform a
    restore operation. It enables you to perform a quick and focused search for
    files across all the backups in the cloud and gives you the option to narrow
    down the searches by using multiple search criteria. </p> <p><strong>Why has
    the export file system API endpoint under the SFR category been
    deprecated?</strong></p> <p>Previously, NetApp Backup and Recovery relied on
    an additional Cloud Restore VM instance for exporting the snapshots
    and creating a file list when you initiated a "File Restore" operation from
    the Restore dashboard. Instead of creating an additional cloud restore
    virtual machine (VM) instance during a file-level restore operation, the NetApp Backup and Recovery service deploys a restore container on the Agent VM
    instance. These containers contain the latest Active Data Agent
    image (version 1.4). This implementation does not require the file system to 
    be exported, therefore
    the export file system    API endpoint under the SFR category has been
    deprecated.</p><p><strong> Why have the API endpoints under the jobs
    category changed?</strong></p>    <p> The old job API endpoints have been
    replaced with a set of new job API endpoints. The functionality of the new
    endpoints differ from the old ones.    Previously, the job endpoints were
    used to retrieve a list of jobs and the details of a particular job. The new
    job API endpoints allow services to create job entries, update the status of
    a job directly in the database, and retrieve the current status of a job
    from the database.</p> </details> <hr /> <details>    <summary><strong>How
    to use the Backup and Recovery REST APIs</strong></summary><p><strong>Getting
    started</strong></p><p> To get started with the Backup and Recovery
    APIs, obtain a user token, a NetApp Console account ID, and the Console agent
    ID. When making API calls, add the user token in the Authorization header
    and the console agent ID in the x-agent-id header. Use the NetApp Console
    account ID in the APIs.</p> <p><strong>Obtain a user token from NetApp Console.
    </strong></p>    <p>Make sure to generate the refresh token from the
    following link: https://services.cloud.netapp.com/refresh-token/. The
    refresh token is an alpha-numeric string that is used to generate a user
    token. </p> <pre><code  class="language-bash">curl -X
    GET    &quot;https://netapp-cloud-account.auth0.com/oauth/token?=&quot; -H
    &quot;Content-Type: application/json&quot; -d   &quot;{&quotgrant_type&quot:
    &quotrefresh_token&quot, &quotrefresh_token&quot:
    &quotJxaVHn9cGkX92aPVCkhat3zxxxxxwsC9qMl_pLHkZtsVA&quot,
    &quotclient_id&quot: &quotMu0V1ywgYteI6w1MbD15fKfVIUrNXGWC&quot}
    &quot;</code></pre> <p><strong>Obtain your NetApp Console account
    ID</strong></p>  <pre><code  class="language-bash">curl -X
    GET  &quot;https://cloudmanager.cloud.netapp.com/tenancy/account&quot;    -H
    &quot;accept: application/json&quot;  -H &quot;&quotauthority:
    cloudmanager.cloud.netapp.com&quot&quot; -H &quot;&quotaccept-language:
    en-GB,en;q=0.9&quot&quot;  -H &quot;&quotauthorization: Bearer
    eyJhbGciOiJSUzI1NiIsInR……&quot; </code></pre> <p> This API will return a
    response like the following. You can retrieve the account ID by parsing the
    output from [0].[ accountPublicId].</p>
    <p>Response:</p>     &quot;[{"accountPublicId":"account-i6vJXvZW","accountName":"rashidn","isSaas":true,"isGov":false,"isPrivatePreviewEnabled":false,"is3rdPartyServicesEnabled":false,"accountSerial":"96064469711530003565","userRole":"Role-1"}………&quot;
    <p><strong>Obtain the x-agent-id that contains the Agent ID.</strong></p>
    <pre><code  class="language-bash">curl -X GET
    &quot;https://api.services.cloud.netapp.com/occm/list-occms/account-OOnAR4ZS?excludeStandalone=true&source=saas&quot;     -H
    &quot;accept: application/json&quot;  -H &quot;&quotauthority:
    api.services.cloud.netapp.com&quot&quot; -H &quot;&quotaccept-language:
    en-GB,en;q=0.9&quot&quot;  -H &quot;&quotauthorization: Bearer
    eyJhbGciOiJSUzI1NiIsInR……&quot; </code></pre>     <p> This API will return a
    response like the following. You can retrieve the agent ID by parsing the
    output from occm.[0].[agent].[agentId].</p>
    <p>Response:</p>     &quot;{"occms":[{"account":"account-OOnAR4ZS","accountName":"cbs","occm":"imEdsEW4HyYTFbt8ZcNKTKDF05jMIe6Z","agentId":"imEdsEW4HyYTFbt8ZcNKTKDF05jMIe6Z","status":"ready","occmName":"cbsgcpdevcntsg-asia","primaryCallbackUri":"","manualOverrideUris":[],"automaticCallbackUris":[],"createDate":"1652120369286","agent":{"useDockerInfra":true,"network":"default","name":"cbsgcpdevcntsg-asia","agentId":"imEdsEW4HyYTFbt8ZcNKTKDF05jMIe6Zclients","provider":"gcp","systemId":"a3aa3578-bfee-4d16-9e10-&quot;<p><strong>Example
    using the APIs</strong></p>     <p> The following example shows an API call
    to activate a backup on a system with a new policy that has daily, hourly,
    and weekly labels set, and archive after days set as 180 days in East-US-2
    region in Azure cloud. This enables backup only on a system but no volumes
    are backed up. If you choose “"auto-backup-enabled": true, then any volumes
    already existing in the system are backed up and future volumes added.
    </p>  <pre><code     class="language-bash">curl -X
    GET     &quot;https://cloudmanager.cloud.netapp.com/account/account-DpTFcxN3/providers/cloudmanager_cbs/api/v3/backup/working-environment/VsaWorkingEnvironment-99hPYEgk&quot;     -H
    &quot;accept: application/json&quot;  -H &quot;&quotx-agent-id:
    iZwFFeVCZjWnzGlw8RgD0QQNANZvpP7Iclients&quot&quot;  -H
    &quot;&quotauthorization: Bearer eyJhbGciOiJSUzI1NiIsInR……&quot; -d
    &quot;{"provider":"AZURE","backup-policy": {"archive-after-days":
    180,"rule": [{"label": "hourly","retention": "2"},{"label":
    "daily","retention": "30"},{"label": "weekly", "retention":
    "52"}]},"ip-space": "Default","region": "eastus2","azure":
    {"resource-group": "rn-test-backup-rg",     "subscription":
    "3beb4dd0-25d4-464f-9bb0-303d7cf5c0c2"}}&quot; </code></pre>  </details>'
definitions:
  Authorization:
    type: object
    required:
      - authorization
    properties:
      authorization:
        type: string
        description: Authorization JWT Service Token
      X-Service-Request-Id:
        type: string
        description: Request identifier
  AuthorizationUser:
    type: object
    required:
      - authorization
    properties:
      authorization:
        type: string
        description: Authorization JWT User Token
      X-Service-Request-Id:
        type: string
        description: Request identifier
  Error:
    type: object
    description: Error response
    properties:
      error:
        type: string
        description: Error code/category
      message:
        type: string
        description: Error description message
paths:
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/sfr/working-environment/{workingEnvironmentId}/volume/{volumeId}/file-explore/start:
    post:
      description: <p>Starts a file and folder explore operation while initiating a
        single file restore (SFR) operation. This API endpoint initiates the
        deployment of an Active Data Connector container on the Console agent
        and mounts the snapshot under the /tmp folder to browse the files
        and folders. This API endpoint is currently supported on Cloud Volumes
        ONTAP on AWS, Azure, Google Cloud, and on-premises ONTAP systems. It
        supports retrieving files and folders from backups stored on AWS, Azure,
        Google Cloud, and StorageGRID cloud storage
        providers.</p><p><strong>Token usage:</strong></span>NetApp Console user
        token.</p>
      tags: 
        - SFR
      parameters:
        - type: string
          description: Location of the snapshot
          enum:
            - LOCAL
            - CLOUD
          required: false
          in: query
          name: snapshotLocation
        - type: string
          description: Snapshot ID of the source snapshot
          required: false
          in: query
          name: snapshotId
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: File system ID/Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/sfr/working-environment/{workingEnvironmentId}/volume/{volumeId}/snapshot/{snapshotId}/file-explore/list:
    get:
      description: <p>Retrieves a list of files and folders within a specified volume
        snapshot in a paginated format during a file or folder restore
        operation (V2 version of the file-explore/list API). You can pass the
        number of pages and limit of the number of files that the API endpoint
        should retrieve while fetching the details in a paginated format. The
        volume snapshot is mounted on under the /tmp folder of the
        Console agent instance to create a file catalog for the "Browse and Restore"
        option.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - SFR
      parameters:
        - type: string
          description: Location of the snapshot
          enum:
            - LOCAL
            - CLOUD
          required: false
          in: query
          name: snapshotLocation
        - type: string
          description: Type of the file
          enum:
            - FILE
            - DIRECTORY
            - ALL
          required: false
          in: query
          name: fileType
        - type: string
          description: The column name to sort with
          enum:
            - name
            - size
            - mtime
          required: false
          in: query
          name: sortBy
        - type: string
          description: Order of the results, either ASCENDING or DESCENDING
          enum:
            - ASC
            - DESC
          required: false
          in: query
          name: orderBy
        - type: string
          description: Name of the file or directory
          required: false
          in: query
          name: name
        - type: string
          description: Path of files to browse
          required: false
          in: query
          name: path
        - type: number
          description: Number of the page
          required: false
          in: query
          name: page
        - type: number
          description: Limit of files
          required: false
          in: query
          name: limit
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: File system ID/Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: Snapshot ID
          required: true
          in: path
          name: snapshotId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              pageConfig:
                type: object
                properties:
                  next:
                    type: object
                    properties:
                      page:
                        type: number
                        description: Next page number
                      limit:
                        type: number
                        description: Limit of files
                  previous:
                    type: object
                    properties:
                      page:
                        type: number
                        description: Previous page number
                      limit:
                        type: number
                        description: Limit of files
                  startIndex:
                    type: number
                    description: Starting index of file list
                  endIndex:
                    type: number
                    description: Ending index of file list
              context:
                type: array
                items:
                  type: object
                  properties:
                    inode:
                      type: string
                    name:
                      type: string
                    path:
                      type: string
                    type:
                      type: string
                    size:
                      type: number
                    mtime:
                      type: number
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/sfr/working-environment/{workingEnvironmentId}/volume/{volumeId}/snapshot/{snapshotId}/files/status:
    get:
      description: <p>Returns the file and folder status when you initiate a file or
        folder search during a restore operation.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - SFR
      parameters:
        - type: string
          description: The path of the directory
          required: false
          in: query
          name: path
        - type: string
          description: Location of the snapshot
          enum:
            - LOCAL
            - CLOUD
          required: false
          in: query
          name: snapshotLocation
        - type: boolean
          description: By default, the count is retrieved from the browsestatus table. When
            this flag is true, it retrieves the count of the actual records
            existing in the browsedb table.
          required: false
          in: query
          name: actualCount
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: File system ID/Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: Snapshot ID
          required: true
          in: path
          name: snapshotId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              counter:
                type: integer
              inProgress:
                type: boolean
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/backup/working-environment:
    get:
      description: <p>Retrieves the details of all systems that are
        backed up using the NetApp Backup and Recovery service within an account.
        It retrieves the backup enablement status, archive storage class, archive
        after days, catalog enablement status, auto enablement status, maximum
        transfer status, backup policy details, cloud storage pool, and remote
        MetroCluster ID. </p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Backup
      parameters:
        - type: boolean
          description: Returns only partial response for the systems
          required: false
          in: query
          name: partial
        - type: boolean
          default: true
          description: A filter to include/exclude fields named provider-access-key and
            ip-space
          required: false
          in: query
          name: object-store-details
        - type: boolean
          default: true
          description: A filter to include/exclude fields named  used-capacity-gb,
            charging-capacity,logical-used-size,backed-up-volume-count
          required: false
          in: query
          name: capacity-details
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              working-environment:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    id:
                      type: string
                    clusterId:
                      type: string
                    region:
                      type: string
                    status:
                      type: string
                    ontap-version:
                      type: string
                    backup-enablement-status:
                      type: string
                    type:
                      type: string
                    provider:
                      type: string
                    provider-account-id:
                      type: string
                    provider-account-name:
                      type: string
                    bucket:
                      type: string
                    archive-storage-class:
                      type: string
                    resource-group:
                      type: string
                    storage-account:
                      type: string
                    storage-server:
                      type: string
                    used-capacity-gb:
                      type: string
                    charging-capacity:
                      type: string
                    logical-used-size:
                      type: string
                    backed-up-volume-count:
                      type: string
                    total-volumes-count:
                      type: string
                    backup-policy-count:
                      type: string
                    failed-backup-volume-count:
                      type: string
                    catalog-enabled:
                      type: boolean
                    object-lock:
                      type: string
                    max-transfer-rate:
                      type: number
                    backup-policy:
                      type: object
                      properties:
                        name:
                          type: string
                        rule:
                          type: array
                          items:
                            type: object
                            properties:
                              label:
                                type: string
                              retention:
                                type: string
                        archive-after-days:
                          type: string
                    private-endpoint-required:
                      type: boolean
                    license:
                      type: object
                      properties:
                        free-trial-end:
                          type: number
                        eligible:
                          type: boolean
                    ip-space:
                      type: string
                    provider-access-key:
                      type: string
                    delete-yearly-snapshots:
                      type: boolean
                    export-existing-snapshots:
                      type: boolean
                    storage-grid-id:
                      type: string
                    sgws-archival:
                      type: object
                      properties:
                        cloud-storage-pool:
                          type: object
                          properties:
                            provider:
                              type: string
                              description: Cloud provider where the cloud storage pool is hosted
                              enum:
                                - AWS
                                - AZURE
                            provider-account-id:
                              type: string
                              description: Cloud provider account ID where the cloud storage pool is hosted
                            region:
                              type: string
                              description: Cloud provider region where the cloud storage pool is hosted
                            access-key:
                              type: string
                            archive-storage-class:
                              type: string
                              description: Storage class of a cloud storage pool to store archived objects
                              enum:
                                - GLACIER
                                - DEEP_ARCHIVE
                          required:
                            - provider
                            - provider-account-id
                            - region
                    remote-mcc-id:
                      type: string
                    architecture:
                      type: string
                    snapshot-policy:
                      type: string
                    replication-target:
                      type: object
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                        policy-name:
                          type: string
                        prefix:
                          type: string
                        suffix:
                          type: string
                        svm:
                          type: string
                        aggregate:
                          type: array
                          items:
                            type: string
                    fix-mismatch-labels:
                      type: boolean
                    rsw-scheduled-scan:
                      type: boolean
                    rsw-scan-interval:
                      type: string
                    object-store-size:
                      type: object
                      properties:
                        standard:
                          type: number
                        archive:
                          type: number
                    cmek:
                      type: object
                      properties:
                        enabled:
                          type: boolean
                        keyDetails:
                          type: object
                          additionalProperties: true
                          description: JSON data containing data specific to Customer Managed Encryption Keys
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/backup/working-environment:
    get:
      description: <p>Retrieves the details of all systems that are
        backed up by using the NetApp Backup and Recovery service within an account.
        It retrieves backup enablement status, archive storage class, archive
        after days, catalog enablement status, auto enablement status, maximum
        transfer status, backup policy details, cloud storage pool, and remote
        MetroCluster ID. </p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Backup
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              working-environment:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    publicId:
                      type: string
                    clusterId:
                      type: string
                    ontapVersion:
                      type: string
                    status:
                      type: string
                    type:
                      type: string
                    provider:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/backup/working-environment/{workingEnvironmentId}:
    get:
      description: <p>Retrieves the details of a specific system backed up
        by using the NetApp Backup and Recovery service within an account. It
        retrieves backup enablement status, archive storage class, archive after
        days, catalog enablement status, auto enablement status, maximum
        transfer status, backup policy details, cloud storage pool, and remote
        MetroCluster ID.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Backup
      parameters:
        - type: boolean
          description: Returns only a partial response for a system.
          required: false
          in: query
          name: partial
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              name:
                type: string
              id:
                type: string
              region:
                type: string
              status:
                type: string
              ontap-version:
                type: string
              backup-enablement-status:
                type: string
              type:
                type: string
              provider:
                type: string
              provider-account-id:
                type: string
              provider-account-name:
                type: string
              bucket:
                type: string
              archive-storage-class:
                type: string
              resource-group:
                type: string
              storage-account:
                type: string
              storage-server:
                type: string
              used-capacity-gb:
                type: string
              charging-capacity:
                type: string
              logical-used-size:
                type: string
              backed-up-volume-count:
                type: string
              total-volumes-count:
                type: string
              backup-policy-count:
                type: string
              failed-backup-volume-count:
                type: string
              catalog-enabled:
                type: boolean
              object-lock:
                type: string
              auto-backup-enabled:
                type: boolean
              max-transfer-rate:
                type: number
              backup-policy:
                type: object
                properties:
                  name:
                    type: string
                  rule:
                    type: array
                    items:
                      type: object
                      properties:
                        label:
                          type: string
                        retention:
                          type: string
                  archive-after-days:
                    type: string
              private-endpoint-required:
                type: boolean
              license:
                type: object
                properties:
                  free-trial-end:
                    type: number
                  eligible:
                    type: boolean
              ip-space:
                type: string
              provider-access-key:
                type: string
              delete-yearly-snapshots:
                type: boolean
              export-existing-snapshots:
                type: boolean
              storage-grid-id:
                type: string
              sgws-archival:
                type: object
                properties:
                  cloud-storage-pool:
                    type: object
                    properties:
                      provider:
                        type: string
                        description: Cloud provider where the cloud storage pool is hosted
                        enum:
                          - AWS
                      provider-account-id:
                        type: string
                        description: Cloud provider account ID where the cloud storage pool is hosted
                      region:
                        type: string
                        description: Cloud provider region where the cloud storage pool is hosted
                      access-key:
                        type: string
                      archive-storage-class:
                        type: string
                        description: Storage class of a cloud storage pool to store archived objects
                        enum:
                          - GLACIER
                          - DEEP_ARCHIVE
                    required:
                      - provider
                      - provider-account-id
                      - region
              remote-mcc-id:
                type: string
              architecture:
                type: string
              snapshot-policy:
                type: string
              replication-target:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  policy-name:
                    type: string
                  prefix:
                    type: string
                  suffix:
                    type: string
                  svm:
                    type: string
                  aggregates:
                    type: array
                    items:
                      type: string
              fix-mismatch-labels:
                type: boolean
              rsw-scheduled-scan:
                type: boolean
              object-store-size:
                type: object
                properties:
                  standard:
                    type: number
                  archive:
                    type: number
              cmek:
                type: object
                properties:
                  enabled:
                    type: boolean
                  keyDetails:
                    type: object
                    additionalProperties: true
                    description: JSON data containing data specific to Customer Managed Encryption Keys
              rsw-scan-interval:
                type: string
    delete:
      description: <p>Unregisters a system. You can remove the NetApp Backup
        and Recovery service from a system. Before you unregister,
        make sure that you delete all backups and disable the Backup and
        Recovery service on a system. This action also deletes the
        backup folder.</p><p><strong>Token usage:</strong></span> NetApp Console
        user      token.</p>
      tags:
        - Backup
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/backup/working-environment/{workingEnvironmentId}/status:
    get:
      description: <p>Retrieves the backup status of a specified system
        backed up by using the NetApp Backup and Recovery service within an account.
        It retrieves backup enablement status, archive storage class, archive
        after days, catalog enablement status, auto enablement status, maximum
        transfer status, backup policy details, cloud storage pool, and remote
        MetroCluster ID.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Backup
      parameters:
        - type: boolean
          description: Returns only a partial response for a system
          required: false
          in: query
          name: partial
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              name:
                type: string
              id:
                type: string
              region:
                type: string
              status:
                type: string
              ontap-version:
                type: string
              backup-enablement-status:
                type: string
              type:
                type: string
              provider:
                type: string
              provider-account-id:
                type: string
              provider-account-name:
                type: string
              bucket:
                type: string
              archive-storage-class:
                type: string
              resource-group:
                type: string
              storage-account:
                type: string
              storage-server:
                type: string
              used-capacity-gb:
                type: string
              charging-capacity:
                type: string
              logical-used-size:
                type: string
              backed-up-volume-count:
                type: string
              total-volumes-count:
                type: string
              backup-policy-count:
                type: string
              failed-backup-volume-count:
                type: string
              catalog-enabled:
                type: boolean
              auto-backup-enabled:
                type: boolean
              backup-policy:
                type: object
                properties:
                  name:
                    type: string
                  rule:
                    type: array
                    items:
                      type: object
                      properties:
                        label:
                          type: string
                        retention:
                          type: string
                  archive-after-days:
                    type: string
              private-endpoint-required:
                type: boolean
              license:
                type: object
                properties:
                  free-trial-end:
                    type: number
                  eligible:
                    type: boolean
              ip-space:
                type: string
              provider-access-key:
                type: string
              delete-yearly-snapshots:
                type: boolean
              export-existing-snapshots:
                type: boolean
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/backup/working-environment/{workingEnvironmentId}:
    put:
      description: <p>Modifies the NetApp Backup and Recovery service backup configuration
        for a particular system synchronously (V2). You can modify
        the state, backup policy, archive storage class, cloud storage pool,
        AWS|Azure|Google Cloud|StorageGRID access and secret key, IPspace, maximum
        transfer rate, and enable automatic backup.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Backup
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              state:
                type: string
                description: Updates the SnapMirror relationship state in the system to the specified state
                enum:
                  - ENABLE
                  - DISABLE
              backup-policy:
                type: object
                description: Uses an existing policy or creates a new policy if not found in the
                  list of ONTAP policies and modifies the backed up system relationships to use the existing one.
                properties:
                  name:
                    type: string
                    description: Policy name of the existing policy or any custom name with which a
                      new policy needs to be created. If not specified, a policy
                      with the NetApp Backup and Recovery service default naming
                      convention is created.
                  rule:
                    type: array
                    description: Specify the rules for a new policy
                    items:
                      type: object
                      properties:
                        label:
                          type: string
                        retention:
                          type: string
                  archive-after-days:
                    type: string
                  object-lock:
                    type: string
                    enum:
                      - NONE
                      - COMPLIANCE
                      - GOVERNANCE
                  sgws-archival:
                    type: object
                    properties:
                      cloud-storage-pool:
                        type: object
                        properties:
                          provider:
                            type: string
                            description: Cloud provider where the cloud storage pool is hosted
                            enum:
                              - AWS
                              - AZURE
                          provider-account-id:
                            type: string
                            description: Cloud provider account ID where the cloud storage pool is hosted
                          region:
                            type: string
                            description: Cloud provider region where the cloud storage pool is hosted
                          access-key:
                            type: string
                            description: Required input field if the provider is AWS
                          secret-password:
                            type: string
                            description: Required input field if the provider is AWS
                          archive-storage-class:
                            type: string
                            description: Required for AWS to specify which storage class to use for
                              archiving
                            enum:
                              - GLACIER
                              - DEEP_ARCHIVE
                          resource-group:
                            type: string
                            description: Required when the provider is Azure
                        required:
                          - provider
                          - provider-account-id
                          - region
              archive-storage-class:
                type: string
                description: Required for AWS if modifying the storage class or enabling archive
                  for the first time.
                enum:
                  - GLACIER
                  - DEEP_ARCHIVE
              auto-backup-enabled:
                type: boolean
                description: Automatically backup all volumes in the systems
              max-transfer-rate:
                type: number
                description: Modifies node-level throttling of an ONTAP cluster. Value to be
                  specified in kilo bytes per second(kbps). A value of 0 implies
                  unlimited throttling
              delete-yearly-snapshots:
                type: boolean
                description: Disable the deletion of local yearly snapshots after being
                  transferred to object store
              export-existing-snapshots:
                type: boolean
                description: Export pre-existing snapshots to object storage
              ip-space:
                type: string
                description: IP space for the backed up system
              toggle-rsw-scan:
                type: boolean
                description: Toggle RSW scheduled scan on or off
              rsw-scan-interval:
                type: string
                description: RSW scheduled scans interval
                enum:
                  - 1d
                  - 2d
                  - 3d
                  - 4d
                  - 5d
                  - 6d
                  - 7d
              aws:
                type: object
                description: Access key and secret password for the system
                properties:
                  access-key:
                    type: string
                  secret-password:
                    type: string
              gcp:
                type: object
                description: Access key and secret password for the system
                properties:
                  access-key:
                    type: string
                  secret-password:
                    type: string
              sgws:
                type: object
                description: Access key and secret password for the system
                properties:
                  access-key:
                    type: string
                  secret-password:
                    type: string
                  storage-grid-id:
                    type: string
                    description: StorageGRID ID. Required input field for StorageGRID provider
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID of the source Cloud Volumes ONTAP instance
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
    
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/backup/working-environment/{workingEnvironmentId}/volume/{volumeId}:
    get:
      description: <p> Retrieves information for a specified volume backed up by
        using the NetApp Backup and Recovery service. It retrieves the
        details of the volume from the NetApp Console SaaS application. It retrieves the
        archive after days, backup status, relationship policy name, and
        capacity details. It also retrieves details of the archive after days,
        object lock, ransomware scan status, last ransomware scan, and
        ransomware detected snapshots with last ransomware scan
        information.</p><p><strong>Token usage:</strong></span>NetApp Console user
        token.</p>
      tags:
        - Backup
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              file-system-id:
                type: string
              name:
                type: string
              protocol:
                type: string
              svm:
                type: string
              status:
                type: string
              backup-status:
                type: string
              last-backup-creation-time:
                type: number
              snapshot-count:
                type: string
              backup-policy:
                type: object
                properties:
                  name:
                    type: string
                  rule:
                    type: array
                    items:
                      type: object
                      properties:
                        label:
                          type: string
                        retention:
                          type: string
                  archive-after-days:
                    type: string
              lag:
                type: string
              capacity:
                type: object
                properties:
                  allocated:
                    type: string
                  used:
                    type: string
                  charging:
                    type: string
                  logicalUsedSize:
                    type: string
              type:
                type: string
              snaplock-type:
                type: string
              style:
                type: string
              object-lock:
                type: string
                enum:
                  - GOVERNANCE
                  - COMPLIANCE
                  - NONE
                  - LOCKED
                  - UNLOCKED
              ransomware-scan-status:
                type: string
                enum:
                  - RANSOMWARE_DETECTED
                  - IN_PROGRESS
                  - PROTECTED
                  - FAILED
              last-ransomware-scan:
                type: number
              ransomware-detected-snapshots:
                type: array
                items:
                  type: object
                  properties:
                    snapshot-id:
                      type: string
                    snapshot-name:
                      type: string
                    last-ransomware-scan:
                      type: number
              geometry:
                type: number
              aggregate-count:
                type: number
              cbsChargingEnabled:
                type: boolean
    put:
      description: <p> Modifies a specified backed up volume. You can use this API
        endpoint   to modify the volume state, backup policy, backup policy
        rule-retention, and archive-after-days parameters. </p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Backup
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              state:
                type: string
                enum:
                  - PAUSE
                  - RESUME
                  - DELETE
              backup-policy:
                type: object
                properties:
                  name:
                    type: string
                  rule:
                    type: array
                    items:
                      type: object
                      properties:
                        label:
                          type: string
                        retention:
                          type: string
                  archive-after-days:
                    type: string
                  object-lock:
                    type: string
                    enum:
                      - NONE
                      - COMPLIANCE
                      - GOVERNANCE
                      - LOCKED
                      - UNLOCKED
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              state:
                type: string
    delete:
      description: <p> Removes the backup settings on a specified backed up volume. To
        disable backup on a volume, the snapshots of the volume must be
        deleted. </p><p><strong>Token usage:</strong></span>NetApp Console user
        token.</p>
      tags:
        - Backup
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: File system ID/Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v3/backup/working-environment/{workingEnvironmentId}/volume/{volumeId}:
    post:
      description: <p> Enables backup for a specified volume (version 3). This version
        of    the endpoint runs the job asynchronously. Backup is not allowed
        for a volume enabled with a SnapLock license (WORM license). You can
        configure the different backup modes. The AD_HOC mode creates an
        on-demand snapshot and stores a backup on the respective cloud.
        SCHEDULED mode (default mode) creates snapshots as per the ONTAP
        snapshot  policy and stores a backup on the cloud as per the backup
        policy. Based on the  defined backup policy, this API endpoint creates a
        SnapMirror to cloud relationship with a specific cloud object storage
        system. Using this endpoint, you can set the archive after days
        parameter to move the volume data to the archive tier and also enable
        object lock and ransomware detection feature on the volume.
        </p><p><strong>Token usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Backup
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              mode:
                type: string
                description: AD_HOC mode creates an on-demand snapshot and backs it up on
                  the respective cloud. SCHEDULED mode creates snapshots
                  as per the ONTAP snapshot policy and backs it up to the cloud as
                  per the backup policy. [Deprecated] IMMEDIATE mode is designed
                  for internal use cases and cannot be used for newer
                  integrations
                enum:
                  - AD_HOC
                  - SCHEDULED
                  - IMMEDIATE
              adhoc-backup-details:
                type: object
                properties:
                  name:
                    type: string
                  snapmirrorLabel:
                    type: string
              backup-policy:
                type: object
                properties:
                  name:
                    type: string
                    description: Required input
                  rule:
                    type: array
                    items:
                      type: object
                      properties:
                        label:
                          type: string
                        retention:
                          type: string
                  archive-after-days:
                    type: string
                  object-lock:
                    type: string
                    enum:
                      - NONE
                      - COMPLIANCE
                      - GOVERNANCE
                      - LOCKED
                      - UNLOCKED
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/backup/working-environment/{workingEnvironmentId}/volume:
    get:
      description: <p>Retrieves details of all the volumes for a specified system backed up by using the NetApp Backup and Recovery service. It
        retrieves the volume name, volume type, protocol, storage VM, backup
        status, last backup creation time, snapshot count, associated
        backup policy, and backup policy rules. It also retrieves details of the
        archive after days, object lock, ransomware scan status, last ransomware
        scan, and ransomware detected snapshots with last ransomware
        scan  information.</p><p><strong>Token usage:</strong></span> NetApp Console
        user token.</p>
      tags:
        - Backup
      parameters:
        - type: boolean
          description: Returns only partial response from the NetApp Backup and Recovery
            service database. API calls with this query parameter skips fetching
            data from ONTAP
          required: false
          in: query
          name: partial
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              volume:
                type: array
                items:
                  type: object
                  properties:
                    file-system-id:
                      type: string
                    name:
                      type: string
                    type:
                      type: string
                    style:
                      type: string
                    protocol:
                      type: string
                    svm:
                      type: string
                    status:
                      type: string
                    backup-status:
                      type: string
                    last-backup-creation-time:
                      type: number
                    snapshot-count:
                      type: string
                    backup-policy:
                      type: object
                      properties:
                        name:
                          type: string
                        rule:
                          type: array
                          items:
                            type: object
                            properties:
                              label:
                                type: string
                              retention:
                                type: string
                        archive-after-days:
                          type: string
                    snaplock-type:
                      type: string
                    lag:
                      type: string
                    capacity:
                      type: object
                      properties:
                        allocated:
                          type: string
                        used:
                          type: string
                        charging:
                          type: string
                        logicalUsedSize:
                          type: string
                    object-lock:
                      type: string
                      enum:
                        - GOVERNANCE
                        - COMPLIANCE
                        - NONE
                        - LOCKED
                        - UNLOCKED
                    ransomware-scan-status:
                      type: string
                      enum:
                        - RANSOMWARE_DETECTED
                        - IN_PROGRESS
                        - PROTECTED
                        - FAILED
                    last-ransomware-scan:
                      type: number
                    ransomware-detected-snapshots:
                      type: array
                      items:
                        type: object
                        properties:
                          snapshot-id:
                            type: string
                          snapshot-name:
                            type: string
                          last-ransomware-scan:
                            type: number
                    geometry:
                      type: number
                    aggregate-count:
                      type: number
                    cbsChargingEnabled:
                      type: boolean
    put:
      description: <p>Modifies multiple backed-up volumes in a specific system. This API endpoint modifies the volume state, backup-policy,
        backup policy rule and retention, and archive-after-days
        parameters.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Backup
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              volume:
                type: array
                items:
                  type: object
                  properties:
                    state:
                      type: string
                      enum:
                        - PAUSE
                        - RESUME
                        - DELETE
                    file-system-id:
                      type: string
                    backup-policy:
                      type: object
                      properties:
                        name:
                          type: string
                        rule:
                          type: array
                          items:
                            type: object
                            properties:
                              label:
                                type: string
                              retention:
                                type: string
                        archive-after-days:
                          type: string
                        object-lock:
                          type: string
                          enum:
                            - NONE
                            - COMPLIANCE
                            - GOVERNANCE
                            - LOCKED
                            - UNLOCKED
                  required:
                    - file-system-id
            required:
              - volume
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/backup/working-environment/{workingEnvironmentId}/volume/{volumeId}/snapshot/{snapshotId}:
    get:
      description: <p> Retrieves information of a particular snapshot for a
        specified volume backed up by using the NetApp Backup and Recovery
        service for a system. This API endpoint retrieves the
        details of the volume snapshots from the NetApp Console SaaS application.
        It retrieves the snapshot name, snapshot creation time, archive status,
        and size. It also retrieves the object-lock,
        ransomware-scan-status-failure, and
        ransomware-scan-status.  </p><p><strong>Token usage:</strong></span>
        NetApp Console user token.</p>
      tags:
        - Backup
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: File system ID/Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: Snapshot ID
          required: true
          in: path
          name: snapshotId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              id:
                type: string
              name:
                type: string
              creation-time:
                type: number
              archived:
                type: boolean
              size:
                type: number
              last-ransomware-scan:
                type: number
              object-lock:
                type: string
                enum:
                  - COMPLIANCE
                  - GOVERNANCE
                  - NONE
                  - LOCKED
                  - UNLOCKED
              ransomware-scan-status-failure:
                type: string
              ransomware-scan-status:
                type: string
                enum:
                  - RANSOMWARE_DETECTED
                  - IN_PROGRESS
                  - PROTECTED
                  - FAILED
              volume-id:
                type: string
              volume-name:
                type: string
              working-environment-id:
                type: string
              working-environment-name:
                type: string
              svm:
                type: string
    delete:
      description: <p> Deletes a specified snapshot of a specified volume backed
        up using the NetApp Backup and Recovery service for a system.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Backup
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: File system ID/Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: Snapshot ID
          required: true
          in: path
          name: snapshotId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              state:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/backup/working-environment/{workingEnvironmentId}/volume/{volumeId}/snapshot:
    get:
      description: <p> Retrieves snapshot information for a specified volume
        backed up using the NetApp Backup and Recovery service for a system. This API endpoint retrieves the details of the volume
        snapshots from the NetApp Console SaaS application. It retrieves the
        snapshot name, snapshot creation time, archive status, and size. It also
        retrieves the object-lock, ransomware-scan-status-failure, and
        ransomware-scan-status details.</p>    <p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Backup
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: File system ID/Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              snapshot:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    creation-time:
                      type: number
                    size:
                      type: number
                    last-ransomware-scan:
                      type: number
                    object-lock:
                      type: string
                      enum:
                        - COMPLIANCE
                        - GOVERNANCE
                        - NONE
                        - LOCKED
                        - UNLOCKED
                    ransomware-scan-status-failure:
                      type: string
                    archived:
                      type: boolean
                    ransomware-scan-status:
                      type: string
                      enum:
                        - RANSOMWARE_DETECTED
                        - IN_PROGRESS
                        - PROTECTED
                        - FAILED
                    volume-id:
                      type: string
                    volume-name:
                      type: string
                    working-environment-id:
                      type: string
                    working-environment-name:
                      type: string
                    svm:
                      type: string
    delete:
      description: <p> Deletes all the snapshots for a specified volume backed
        up by using the NetApp Backup and Recovery service for a system.</p><p><strong>Token        usage:</strong></span> NetApp Console
        user token.</p>
      tags:
        - Backup
      parameters:
        - type: boolean
          default: false
          description: If set to true, all the metadata for the snapshots will be cleaned
            from the database. Please check if the snapshots are in the object
            store and then clean them.
          required: false
          in: query
          name: force
        - type: boolean
          default: false
          description: If set to true, the object store configuration that is not being used by
            any volume will be cleaned up from the system.
          required: false
          in: query
          name: remove-object-store-config
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: File system ID/Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/backup/snapshot:
    get:
      summary: List of snapshots by account id
      description: <p> Retrieves snapshot information for a specified account by
        using the account ID. This API endpoint retrieves the details of the snapshots
        from the NetApp Console SaaS application. It retrieves the snapshot name,
        snapshot creation time, archive status, and size. It also retrieves the
        object-lock, ransomware-scan-status-failure, and
        ransomware-scan-status.</p>    <p><strong>Token usage:</strong></span>
        NetApp Console user token.</p>
      tags:
        - Backup
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              snapshot:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    creation-time:
                      type: number
                    size:
                      type: number
                    last-ransomware-scan:
                      type: number
                    object-lock:
                      type: string
                      enum:
                        - COMPLIANCE
                        - GOVERNANCE
                        - NONE
                        - LOCKED
                        - UNLOCKED
                    ransomware-scan-status-failure:
                      type: string
                    archived:
                      type: boolean
                    ransomware-scan-status:
                      type: string
                      enum:
                        - RANSOMWARE_DETECTED
                        - IN_PROGRESS
                        - PROTECTED
                        - FAILED
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/backup/working-environment/{workingEnvironmentId}/snapshot:
    delete:
      description: <p> Deletes all snapshots for a specified system that are backed up using the NetApp Backup and Recovery service (V2
        version).</p><p><strong>Token      usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Backup
      parameters:
        - type: boolean
          default: false
          description: If set to true, the object store configuration which is not being used by
            any volume (other than the current volume being processed) will be
            cleaned up from the system.
          required: false
          in: query
          name: remove-object-store-config
        - type: boolean
          default: false
          description: If set to true, all metadata for the snapshots will be removed from
            the database without waiting for the deletion of backups from the
            object store. Snapshot data in the object store might not be
            deleted automatically; you must manually verify and remove the data.
          required: false
          in: query
          name: force
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/panaromic-protection/working-environment/{workingEnvironmentId}:
    post:
      description: <p>Activates comprehensive protection in a system.
        Based on the cascading or fan-out backup workflow selected on the
        system, the API verifies whether a cluster peering
        relationship exists between primary and secondary clusters to set up
        replication. If not, it creates a cluster peering relationship between
        the two clusters. To create a backup to cloud, the API enables backup on
        the system and creates a bucket to which the backup will be
        transferred.</p>
      tags:
        - Panoramic Protection
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              provider:
                type: string
                description: Required input field for on-premises use cases
                enum:
                  - AWS
                  - AZURE
                  - GCP
                  - SGWS
                  - ONTAP_S3
                  - S3_COMPATIBLE
              region:
                type: string
                description: Required input field for on-premises use cases
              aws:
                type: object
                properties:
                  account-id:
                    type: string
                    description: Required when the provider is AWS
                  access-key:
                    type: string
                    description: Required input field for on-premises use cases
                  secret-password:
                    type: string
                    description: Required input field for on-premises use cases
                  kms-key-id:
                    type: string
                    description: Optional input field for customer managed key use case
                  private-endpoint:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Optional input field for a private endpoint
                  archive-storage-class:
                    type: string
                    description: Required for AWS to specify which storage class to use for
                      archiving
                    enum:
                      - GLACIER
                      - DEEP_ARCHIVE
              azure:
                type: object
                properties:
                  resource-group:
                    type: string
                    description: Required when the provider is Azure
                  storage-account:
                    type: string
                    description: Required when the provider is Azure
                  subscription:
                    type: string
                    description: Required when the provider is Azure
                  private-endpoint:
                    type: object
                    description: Required input field for private link configuration
                    properties:
                      subnet:
                        type: string
                        description: Required input field for on-premises private link configuration
                      skip-creation:
                        type: boolean
                        description: Optional input field to skip private endpoint creation
                        default: false
                  key-vault:
                    type: object
                    properties:
                      key-vault-id:
                        type: string
                      key-name:
                        type: string
              gcp:
                type: object
                properties:
                  project-id:
                    type: string
                    description: Required when the provider is Google Cloud
                  access-key:
                    type: string
                    description: Required input field for on-premises use cases
                  secret-password:
                    type: string
                    description: Required input field for on-premises use cases
                  kms:
                    type: object
                    properties:
                      key-ring-id:
                        type: string
                      crypto-key-id:
                        type: string
              sgws:
                type: object
                properties:
                  storage-grid-id:
                    type: string
                    description: StorageGRID ID. Required input field for StorageGRID provider
                  storage-server:
                    type: string
                    description: StorageGRID server URL. Required input field for a StorageGRID
                      provider
                  access-key:
                    type: string
                    description: Required input field for on-premises use cases
                  secret-password:
                    type: string
                    description: Required input field for on-premises use cases
              ontap-s3:
                type: object
                properties:
                  storage-server:
                    type: string
                    description: ONTAP S3 server URL. Required input field for ONTAP_S3 provider
                  access-key:
                    type: string
                    description: Required input field for on-premises use cases
                  secret-password:
                    type: string
                    description: Required input field for on-premises use cases
              s3-compatible:
                type: object
                properties:
                  storage-server:
                    type: string
                    description: s3 storage server
                  access-key:
                    type: string
                    description: Required input field for on-premises use cases
                  secret-password:
                    type: string
                    description: Required input field for on-premises use cases
              bucket:
                type: string
                description: Optional input
              ip-space:
                type: string
                description: Required input field for on-premises use cases
              backup-policy:
                type: object
                properties:
                  name:
                    type: string
                    description: Required input
                  rule:
                    type: array
                    items:
                      type: object
                      properties:
                        label:
                          type: string
                        retention:
                          type: string
                  archive-after-days:
                    type: string
                  object-lock:
                    type: string
                    enum:
                      - NONE
                      - COMPLIANCE
                      - GOVERNANCE
                      - LOCKED
                      - UNLOCKED
                  sgws-archival:
                    type: object
                    properties:
                      cloud-storage-pool:
                        type: object
                        properties:
                          provider:
                            type: string
                            description: Cloud provider where the cloud storage pool will be hosted
                            enum:
                              - AWS
                              - AZURE
                          provider-account-id:
                            type: string
                            description: Cloud provider account ID where the cloud storage pool will be hosted
                          region:
                            type: string
                            description: Cloud provider region where the cloud storage pool will be hosted
                          access-key:
                            type: string
                            description: Required input field if the provider is AWS
                          secret-password:
                            type: string
                            description: Required input field if the provider is AWS
                          archive-storage-class:
                            type: string
                            description: Required for AWS to specify which storage class to use for
                              archiving
                            enum:
                              - GLACIER
                              - DEEP_ARCHIVE
                          resource-group:
                            type: string
                            description: Required when the provider is Azure
                        required:
                          - provider
                          - provider-account-id
                          - region
              auto-backup-enabled:
                type: boolean
                description: Automatically backup all volumes in the system
              max-transfer-rate:
                type: number
                description: Modifies node-level throttling of an ONTAP cluster. Value to be
                  specified in kilo bytes per second(kbps). A value of 0 implies
                  unlimited throttling
              export-existing-snapshots:
                type: boolean
                description: Export pre-existing snapshots to object storage
              architecture:
                type: string
                enum:
                  - CASCADING
                  - FANOUT
                description: Type of storage architecture. Fan-out or Cascading
              snapshot-policy:
                type: string
                description: Snapshot policy name
              replication-target:
                type: object
                properties:
                  policy-name:
                    type: string
                  working-environment-id:
                    type: string
                  working-environment-name:
                    type: string
                  svm:
                    type: string
                  prefix:
                    type: string
                  suffix:
                    type: string
                  aggregates:
                    type: array
                    items:
                      type: string
              fix-mismatch-labels:
                type: boolean
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/panaromic-protection/working-environment/{workingEnvironmentId}:
    put:
      description: <p>Modifies comprehensive protection configuration in a system. This API enables you to enhance the protection capabilities
        within a system by adding replication and backup
        functionalities. This enables the creation of fan-out or cascading
        backup topologies in the cloud. When replication is selected, the API
        first checks for the presence of an existing cluster-peering
        relationship. If a relationship is not found, the API creates the
        necessary cluster-peering relationship. Alternatively, if backup to the
        cloud is selected, the API creates a bucket in the specified cloud
        provider or appliance (AWS, AZURE, GCP, SGWS, ONTAP_S3) specifically for
        the system. This designated bucket is used for storing
        backups taken from the system. Archival tiers or
        DataLock/Ransomware capability can be set while enabling backup to
        cloud. </p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Panoramic Protection
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              state:
                type: string
                description: Updates the SnapMirror relationship state in the system to the state specified
                enum:
                  - ENABLE
                  - DISABLE
              provider:
                type: string
                description: Required input field for on-premises use cases
                enum:
                  - AWS
                  - AZURE
                  - GCP
                  - SGWS
                  - ONTAP_S3
                  - S3_COMPATIBLE
              region:
                type: string
                description: Required input field for on-premises
              aws:
                type: object
                properties:
                  account-id:
                    type: string
                    description: Required when the provider is AWS
                  kms-key-id:
                    type: string
                    description: Optional input field for customer managed key use case
                  private-endpoint:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Optional input field for a private endpoint
                  archive-storage-class:
                    type: string
                    description: Required for AWS to specify which storage class to use for
                      archiving
                    enum:
                      - GLACIER
                      - DEEP_ARCHIVE
              azure:
                type: object
                properties:
                  resource-group:
                    type: string
                    description: Required when the provider is Azure
                  storage-account:
                    type: string
                    description: Required when the provider is Azure
                  subscription:
                    type: string
                    description: Required when the provider is Azure
                  private-endpoint:
                    type: object
                    description: Required input field for private link configuration
                    properties:
                      subnet:
                        type: string
                        description: Required input field for on-premises private link configuration
                      skip-creation:
                        type: boolean
                        description: Optional input field to skip private endpoint creation
                        default: false
                  key-vault:
                    type: object
                    properties:
                      key-vault-id:
                        type: string
                      key-name:
                        type: string
              gcp:
                type: object
                properties:
                  project-id:
                    type: string
                    description: Required when the provider is Google Cloud
                  credentials-id:
                    type: string
                    description: Google Cloud credentials ID. Required when the provider is Google Cloud
                  kms:
                    type: object
                    properties:
                      key-ring-id:
                        type: string
                      crypto-key-id:
                        type: string
              sgws:
                type: object
                properties:
                  storage-grid-id:
                    type: string
                    description: StorageGRID ID. Required input field for StorageGRID provider
                  storage-server-name:
                    type: string
                    description: StorageGRID server name. Required input field for a StorageGRID
                      provider
              ontap-s3:
                type: object
                properties:
                  storage-server:
                    type: string
                    description: ONTAP S3 server URL. Required input field for ONTAP_S3 provider
                  access-key:
                    type: string
                    description: Access-key:Required input field for on-premises use cases
                  secret-password:
                    type: string
                    description: Secret-password:Required input field for on-premises use cases
              s3-compatible:
                type: object
                properties:
                  storage-server:
                    type: string
                    description: s3 storage server
                  access-key:
                    type: string
                    description: Required input field for on-premises use cases
                  secret-password:
                    type: string
                    description: Required input field for on-premises use cases
              bucket:
                type: string
                description: Optional input
              ip-space:
                type: string
                description: Required input field for on-premises use cases
              backup-policy:
                type: object
                properties:
                  name:
                    type: string
                    description: Required input
                  rule:
                    type: array
                    items:
                      type: object
                      properties:
                        label:
                          type: string
                        retention:
                          type: string
                  archive-after-days:
                    type: string
                  object-lock:
                    type: string
                    enum:
                      - NONE
                      - COMPLIANCE
                      - GOVERNANCE
                      - LOCKED
                      - UNLOCKED
                  sgws-archival:
                    type: object
                    properties:
                      cloud-storage-pool:
                        type: object
                        properties:
                          provider:
                            type: string
                            description: Cloud provider where the cloud storage pool will be hosted
                            enum:
                              - AWS
                              - AZURE
                          provider-account-id:
                            type: string
                            description: Cloud provider account ID where the cloud storage pool will be hosted
                          region:
                            type: string
                            description: Cloud provider region where the cloud storage pool will be hosted
                          archive-storage-class:
                            type: string
                            description: Required for AWS to specify which storage class to use for
                              archiving
                            enum:
                              - GLACIER
                              - DEEP_ARCHIVE
                          resource-group:
                            type: string
                            description: Required when the provider is Azure
                        required:
                          - provider
                          - provider-account-id
                          - region
              max-transfer-rate:
                type: number
                description: Modifies node-level throttling of an ONTAP cluster. Value to be
                  specified in kilo bytes per second(kbps). A value of 0 implies
                  unlimited throttling
              export-existing-snapshots:
                type: boolean
                description: Exports pre-existing snapshots to object storage
              architecture:
                type: string
                enum:
                  - CASCADING
                  - FANOUT
                description: Type of storage architecture. Fan-out or Cascading
              snapshot-policy:
                type: string
                description: "Snapshot policy name. To disable local snapshot, pass the value
                  as: none(case sensitive)."
              replication-target:
                type: object
                properties:
                  policy-name:
                    type: string
                  working-environment-id:
                    type: string
                  working-environment-name:
                    type: string
                  svm:
                    type: string
                  prefix:
                    type: string
                  suffix:
                    type: string
                  aggregates:
                    type: array
                    items:
                      type: string
              fix-mismatch-labels:
                type: boolean
              toggle-rsw-scan:
                type: boolean
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/panaromic-protection/working-environment/{workingEnvironmentId}/volume:
    post:
      description: <p> Enables comprehensive panoramic protection for multiple
        volumes. Based on the backup workflow chosen, Cascading or Fan-Out, the
        API creates a replication relationship with a volume in the secondary
        cluster and then creates a backup to cloud relationship with cloud or
        StorageGRID object store. While setting up the replication relationship,
        the API verifies whether a cluster peering relationship is set up
        between primary and secondary clusters. If there is no relationship, it creates a cluster
        peering relationship, storage VM peering, and a DP volume on the
        secondary cluster. Once the replication setup is complete, the API
        executes a SnapMirror Create and Initialize operation. For creating a
        backup to cloud, it  first creates a bucket to which the backup is
        transferred, and then a SnapMirror Cloud relationship is created and
        initialized.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Panoramic Protection
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              volume:
                type: array
                items:
                  type: object
                  properties:
                    volume-id:
                      type: string
                    volume-name:
                      type: string
                    workload:
                      type: string
                      enum:
                        - SQL
                        - VOLUMES
                        - VMWARE
                        - ORACLE
                        - HYPERV
                        - K8S
                        - KVM
                      description: Workload type of the volume. Currently only SQL, VOLUMES, VMWARE, ORACLE, HYPERV, K8S, KVM workloads are supported
                    architecture:
                      type: string
                      enum:
                        - CASCADING
                        - FANOUT
                      description: Type of storage architecture. Fan-out or Cascading
                    mode:
                      type: string
                      enum:
                        - SCHEDULED
                        - AD_HOC
                    type:
                      type: string
                    backup-policy:
                      type: object
                      properties:
                        name:
                          type: string
                          description: Required input
                        rule:
                          type: array
                          items:
                            type: object
                            properties:
                              label:
                                type: string
                              retention:
                                type: string
                        archive-after-days:
                          type: string
                        object-lock:
                          type: string
                          enum:
                            - NONE
                            - COMPLIANCE
                            - GOVERNANCE
                            - LOCKED
                            - UNLOCKED
                    snapshot-policy:
                      type: string
                      description: Snapshot policy name
                    replication:
                      type: object
                      properties:
                        working-environment-id:
                          type: string
                        working-environment-name:
                          type: string
                        svm:
                          type: string
                        policy-name:
                          type: string
                        prefix:
                          type: string
                        suffix:
                          type: string
                        destination-aggregates:
                          type: array
                          items:
                            type: string
                    is-enabled:
                      type: object
                      properties:
                        local-snapshot:
                          type: boolean
                        replication:
                          type: boolean
                        cloud-backup:
                          type: boolean
                  required:
                    - volume-id
                    - is-enabled
            required:
              - volume
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
    put:
      description: <p> Modifies comprehensive protection for multiple volumes. If the
        selected volume already has an existing replication relationship, you
        can use the API to modify the replication policy. Otherwise, the API can
        be used to create a replication relationship. It creates a cluster-peer
        relationship, establishes a storage VM-peer relationship, creates a DP
        volume, and then performs a SnapMirror update/initialize process.
        Similarly, if the selected volume already has an existing "backup to the
        cloud" relationship, the API enables you to modify the backup policy.
        Alternatively, if there is no existing relationship, the API can be used
        to create SnapMirror to Cloud relationship. It will create a bucket in
        the specified cloud provider and then execute a SnapMirror Cloud
        update/initialize operation. </p><p><strong>Token usage:</strong> NetApp Console
        user token.</p>
      tags:
        - Panoramic Protection
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              volume:
                type: array
                items:
                  type: object
                  properties:
                    volume-id:
                      type: string
                    volume-name:
                      type: string
                    workload:
                      type: string
                      enum:
                        - SQL
                        - VOLUMES
                        - VMWARE
                        - ORACLE
                        - HYPERV
                        - K8S
                        - KVM
                      description: Workload type of the volume. Currently only SQL, VOLUMES, VMWARE, ORACLE, HYPERV, K8S, KVM workloads are supported
                    type:
                      type: string
                    backup-policy:
                      type: object
                      properties:
                        name:
                          type: string
                          description: Required input
                        rule:
                          type: array
                          items:
                            type: object
                            properties:
                              label:
                                type: string
                              retention:
                                type: string
                        archive-after-days:
                          type: string
                        object-lock:
                          type: string
                          enum:
                            - NONE
                            - COMPLIANCE
                            - GOVERNANCE
                            - LOCKED
                            - UNLOCKED
                    state:
                      type: string
                      enum:
                        - PAUSE
                        - RESUME
                        - DELETE
                    snapshot-policy:
                      type: string
                      description: Snapshot policy name
                    architecture:
                      type: string
                      enum:
                        - CASCADING
                        - FANOUT
                      description: Type of storage architecture. Fan-out or Cascading
                    replication:
                      type: object
                      properties:
                        working-environment-id:
                          type: string
                        working-environment-name:
                          type: string
                        svm:
                          type: string
                        policy-name:
                          type: string
                        prefix:
                          type: string
                        suffix:
                          type: string
                        destination-aggregates:
                          type: array
                          items:
                            type: string
                    is-enabled:
                      type: object
                      properties:
                        local-snapshot:
                          type: boolean
                        replication:
                          type: boolean
                        cloud-backup:
                          type: boolean
                  required:
                    - volume-id
                    - is-enabled
            required:
              - volume
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/backup/working-environment/{workingEnvironmentId}/snapshot:
    get:
      description: <p> Retrieves snapshot information for a specified volume
        backed up using NetApp Backup and Recovery for a system.
        This API endpoint retrieves the details of the volume snapshots
        from the NetApp Console SaaS application. It retrieves the snapshot name,
        snapshot creation time, archive status, and size. It also retrieves the
        object-lock, ransomware-scan-status-failure, and ransomware-scan-status
        details.</p>    <p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Backup
      parameters:
        - type: string
          description: SVM names in comma separated values
          required: false
          in: query
          name: svm
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              snapshot:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    creation-time:
                      type: number
                    size:
                      type: number
                    last-ransomware-scan:
                      type: number
                    object-lock:
                      type: string
                      enum:
                        - COMPLIANCE
                        - GOVERNANCE
                        - NONE
                        - LOCKED
                        - UNLOCKED
                    ransomware-scan-status-failure:
                      type: string
                    archived:
                      type: boolean
                    ransomware-scan-status:
                      type: string
                      enum:
                        - RANSOMWARE_DETECTED
                        - IN_PROGRESS
                        - PROTECTED
                        - FAILED
                    volume-id:
                      type: string
                    volume-name:
                      type: string
                    working-environment-id:
                      type: string
                    working-environment-name:
                      type: string
                    svm:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/replication/working-environment/{workingEnvironmentId}/relationship:
    patch:
      description: <p>Performs an action on a volume that has SnapMirror replication enabled. Using this API, you will be able to perform a SnapMirror
        relationship update, delete, pause, resync, reverse-resync, abort, and
        resume functionality on a replicated volume.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Replication
      parameters:
        - type: boolean
          description: Update snapshot information in the database after a transfer to the object store. Default
            value is false.
          default: false
          required: false
          in: query
          name: update-backup-inventory
        - name: body
          in: body
          schema:
            type: object
            properties:
              relationships:
                type: array
                items:
                  type: object
                  properties:
                    working-environment-id:
                      type: string
                      description: System ID (replication ONTAP cluster) where the
                        relationship  resides
                    relationship-id:
                      type: string
                    mode:
                      type: string
                      description: Action to perform on replicated volume
                      enum:
                        - UPDATE
                        - BREAK
                        - PAUSE
                        - DELETE
                        - RESYNC
                        - REVERSE_RESYNC
                        - ABORT
                        - RESUME
                    create-snapshot:
                      type: boolean
                      description: Boolean variable describing whether to create a snapshot on
                        the source volume.
                      enum:
                        - true
                        - false
                    source-volume-id:
                      type: string
                      description: ID of the source volume
                    source-snapshot:
                      type: string
                      description: Snapshot name to be transferred when mode is UPDATE. This parameter
                        is optional and is exclusive to create-snapshot being
                        true.
                  required:
                    - working-environment-id
                    - relationship-id
                    - mode
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/restore:
    post:
      description: <p> Performs a volume and file level restore (version 2) operation.
        This  API validates whether a backup of a volume exists. The restore
        operation is not supported on data protection volumes, on a target
        volume with a different language code than the source volume, and for
        volumes with size less than 1GB. The restore operation is not allowed on a
        volume enabled with a SnapLock license (WORM license). It checks whether
        the source and target  cloud provider matches. It also verifies whether
        the backup and restore operation is supported in the system.</p><p>If DataLock and ransomware protection is enabled on
        a system, ransomware scan is performed on the specified
        cloud backup that relates to a particular volume when it is chosen to
        be restored. To skip the scan, set the "skip-ransomware-check" parameter
        to "true".</p><p><strong>Token        usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Restore
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              restore:
                type: object
                properties:
                  type:
                    type: string
                  restore-source:
                    type: string
                    description: Specifies the source of the restore
                    enum:
                      - LOCAL
                      - CLOUD
                  archive-restore-priority:
                    type: string
                    description: Required to specify the archival retrieval priority to determine
                      the restoration time
                    enum:
                      - High
                      - Standard
                      - Low
                  source:
                    type: object
                    properties:
                      working-environment-id:
                        type: string
                      working-environment-name:
                        type: string
                      bucket:
                        type: string
                      volume-name:
                        type: string
                      volume-id:
                        type: string
                      snapshot:
                        type: string
                    required:
                      - working-environment-id
                      - working-environment-name
                      - bucket
                      - volume-name
                      - volume-id
                      - snapshot
                  target:
                    type: object
                    properties:
                      working-environment-id:
                        type: string
                      working-environment-name:
                        type: string
                      svm:
                        type: string
                      aggregate:
                        type: string
                      volume-name:
                        type: string
                      path:
                        type: string
                      retain-source-path:
                        type: boolean
                    required:
                      - working-environment-id
                      - working-environment-name
                      - svm
                      - volume-name
                  file:
                    type: array
                    items:
                      type: object
                      properties:
                        inode:
                          type: number
                        path:
                          type: string
                          minLength: 1
                        type:
                          type: string
                        size:
                          type: number
                        mtime:
                          type: number
                      required:
                        - inode
                        - path
                        - type
                        - size
                        - mtime
                    minItems: 1
                  skip-ransomware-check:
                    type: boolean
                    description: Skips a ransomware scan
                  skip-file-rename:
                    type: boolean
                    description: Skips file rename while restore
                  is-on-demand-restore:
                    type: boolean
                    description: Triggers an on-demand restore
                  skip-azure-private-endpoint-creation:
                    type: boolean
                    description: Optional input field to skip private endpoint creation for Azure
                    default: false
                required:
                  - type
                  - source
                  - target
            required:
              - restore
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/revert/working-environment/{workingEnvironmentId}/volume/{volumeId}:
    post:
      description: <p> Reverts a snapshot for a volume. It restores a snapshot
        to be the read-write parent volume for the volume family. This
        replaces the current working copy of the volume with the snapshot
        that results in a loss of all changes made since the snapshot was
        created.  The system ID and volume ID are passed as
        parameters in the API REST call and the required snapshot to which
        the volume needs to restored to should be sent in the input body of the
        REST API. </p><p><strong>Token usage:</strong> NetApp Console user token.</p>
      tags:
        - Restore
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              snapshot-name:
                type: string
            required:
              - snapshot-name
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/backup-policy:
    get:
      description: <p> Retrieves a list of ONTAP backup policies associated with a
        system. You can filter the policies based on the archival
        enablement status. This API endpoint retrieves the backup-policy name,
        rule, attached volume count, archive-after-days, and object-lock mode
        information.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - System
      parameters:
        - type: boolean
          description: Filters the policies based on the archival enablement status
          required: false
          in: query
          name: archived
        - type: boolean
          description: Filters the policies based on the remote-mcc-id environment
          required: false
          in: query
          name: is-mcc-cluster
        - type: boolean
          description: Returns the attached-volumes-count with the policy if set to true
          required: false
          in: query
          name: partial
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              backup-policy:
                type: array
                items:
                  properties:
                    name:
                      type: string
                    id:
                      type: string
                    rule:
                      type: array
                      items:
                        type: object
                        properties:
                          label:
                            type: string
                          retention:
                            type: string
                          period:
                            type: string
                    attached-volumes-count:
                      type: string
                    archive-after-days:
                      type: string
                    object-lock:
                      type: string
                      enum:
                        - NONE
                        - COMPLIANCE
                        - GOVERNANCE
                        - LOCKED
                        - UNLOCKED
                    transfer-schedule:
                      type: object
                      properties:
                        uuid:
                          type: string
                        name:
                          type: string
                        cron:
                          type: object
                          properties:
                            minutes:
                              type: array
                              items:
                                type: integer
                            hours:
                              type: array
                              items:
                                type: integer
                            weekdays:
                              type: array
                              items:
                                type: integer
                            days:
                              type: array
                              items:
                                type: integer
                            months:
                              type: array
                              items:
                                type: integer
                        interval:
                          type: string
                    allow-policy-deletion:
                      type: boolean
                  type: object
    post:
      description: <p> Creates a backup policy in a system. The number
        of     retained backups can be up to a maximum of 1018 when no backup
        policies are assigned to a volume. You can edit a policy to create up to
        4000 backups after you assign volumes to a policy through ONTAP CLI.
        This API endpoint validates whether the ONTAP version used by a system supports archiving. You can archive the backups to a cloud
        archive tier by setting the archive-after-days in the policy. You can
        archive to AWS Glacier, Deep Glacier, Azure Archive, and Google
        Archive.</p><p>You can enable DataLock and Ransomware protection
        beginning with ONTAP 9.11.1 and later (supported for AWS, Azure, and
        StorageGRID). This is applicable only for new backup activation.
        Interoperability with archival policy is not supported. For AWS,
        DataLock and Ransomware Protection can be enabled in the "GOVERNANCE"
        mode or "COMPLIANCE" mode. For Azure, DataLock and Ransomware Protection
        can be enabled in the "UNLOCKED" mode or "LOCKED"
        mode.</p><p><strong>Token usage:</strong></span> NetApp Console user token.</p>
      tags:
        - System
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              name:
                type: string
              rule:
                type: array
                items:
                  type: object
                  properties:
                    label:
                      type: string
                    retention:
                      type: string
                    period:
                      type: string
              transfer-schedule:
                type: string
              sgws-archival:
                type: object
                properties:
                  cloud-storage-pool:
                    type: object
                    properties:
                      provider:
                        type: string
                        description: Cloud provider where the cloud storage pool is hosted
                      provider-account-id:
                        type: string
                        description: Cloud provider account ID where the cloud storage pool is hosted
                      region:
                        type: string
                        description: Cloud provider region where the cloud storage pool is hosted
                      access-key:
                        type: string
                        description: Required input field if the provider is AWS
                      secret-password:
                        type: string
                        description: Required input field if the provider is AWS
                      archive-storage-class:
                        type: string
                        description: Required for AWS to specify which storage class to use for
                          archiving
                        enum:
                          - GLACIER
                          - DEEP_ARCHIVE
                    required:
                      - provider
                      - provider-account-id
                      - region
              archive-after-days:
                type: string
              provider:
                type: string
                enum:
                  - AWS
                  - AZURE
                  - GCP
                  - SGWS
                  - ONTAP_S3
              object-lock:
                type: string
                enum:
                  - NONE
                  - COMPLIANCE
                  - GOVERNANCE
                  - LOCKED
                  - UNLOCKED
            required:
              - rule
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              name:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/backup-policy/{policyId}:
    delete:
      summary: Delete backup policy
      description: <p> Deletes the backup policies associated with a
        system.</p><p><strong>Token usage:</strong></span> NetApp Console
        user token.</p>
      tags:
        - System
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: Policy ID
          required: true
          in: path
          name: policyId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/working-environment/{workingEnvironmentId}/backup-policy:
    put:
      description: <p> Updates a backup policy in a system. This V2
        version of the API endpoint facilitates modification of the rule, label,
        retention, archive-after-days, and StorageGRID archival details which also
        includes cloud storage pool information. </p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - System
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              policyName:
                type: string
                description: Backup policy name
              rule:
                type: array
                items:
                  type: object
                  properties:
                    label:
                      type: string
                    retention:
                      type: string
                    period:
                      type: string
              sgws-archival:
                type: object
                properties:
                  cloud-storage-pool:
                    type: object
                    properties:
                      provider:
                        type: string
                        description: Cloud provider where the cloud storage pool is hosted
                      provider-account-id:
                        type: string
                        description: Cloud provider account ID where the cloud storage pool is hosted
                      region:
                        type: string
                        description: Cloud provider region where the cloud storage pool is hosted
                      access-key:
                        type: string
                        description: Required input field if the provider is AWS
                      secret-password:
                        type: string
                        description: Required input field if the provider is AWS
                      archive-storage-class:
                        type: string
                        description: Required for AWS to specify which storage class to use for
                          archiving
                        enum:
                          - GLACIER
                          - DEEP_ARCHIVE
                    required:
                      - provider
                      - provider-account-id
                      - region
              transfer-schedule:
                type: string
              archive-after-days:
                type: string
                description: Archive after days value to which the policy will be modified,
                  "never" implies the removal of the archive-after-days property
                  from a backup policy.
            required:
              - policyName
              - rule
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              name:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/ip-space:
    get:
      description: <p> Retrieves a list of IP spaces within a specified system.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - System
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              ip-space:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment:
    get:
      description: <p> Retrieves a list of systems and their details.
        This API  endpoint retrieves the name, region, status, type,
        cloud-provider, provider-accountId, ontap-version, and
        total-volumes-count information.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - System
      parameters:
        - type: boolean
          description: Returns only partial response without volumes count for systems
          required: false
          in: query
          name: partial
        - type: boolean
          description: Return systems with minimal fields using cache by
            default, if not found in cache triggers live call to fetch details
          required: false
          in: query
          name: cache
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              working-environment:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    cluster-uuid:
                      type: string
                    name:
                      type: string
                    error:
                      type: string
                    region:
                      type: string
                    status:
                      type: string
                    ontap-version:
                      type: string
                    type:
                      type: string
                    provider:
                      type: string
                    provider-account-id:
                      type: string
                      description: AWS account ID/ Azure subscription ID / Google Cloud project ID
                    total-volumes-count:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}:
    get:
      description: <p> Retrieves the details of a specific system. This
        API    endpoint retrieves the name, region, status, type,
        cloud-provider, provider-accountId, ontap-version, and
        total-volumes-count of a specific system.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - System
      parameters:
        - type: boolean
          description: Returns only a partial response without a volumes count for a system
          required: false
          in: query
          name: partial
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              id:
                type: string
              cluster-uuid:
                type: string
              name:
                type: string
              region:
                type: string
              status:
                type: string
              ontap-version:
                type: string
              type:
                type: string
              provider:
                type: string
              provider-account-id:
                type: string
                description: AWS account ID/ Azure subscription ID / Google Cloud project ID
              total-volumes-count:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/working-environment/{workingEnvironmentId}/svm:
    get:
      description: <p> Retrieves a list of storage VMs and their details from a
        specific     system. This API retrieves the ID, name, and a
        list of aggregate objects that belongs to a storage VM. It also
        retrieves the aggregate disk type, aggregate tiering status, aggregate
        total size, and aggregate available size.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - System
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              svm:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    aggregates:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: string
                          name:
                            type: string
                          disktype:
                            type: string
                          is-tiered:
                            type: boolean
                          totalsize:
                            type: number
                          available:
                            type: number
                          used:
                            type: number
                          snaplock-type:
                            type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/volume:
    get:
      description: <p> Retrieves a list of volumes and their details from a
        specific        system. This API endpoint retrieves the
        name, file-system-id, status, storage VM, type, style, capacity
        allocated, capacity used, and SnapMirror label
        information.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - System
      parameters:
        - type: boolean
          description: Returns only a partial response
          required: false
          in: query
          name: completeResponse
        - type: string
          description: Name of the volume. example - volumeName* , *volumeName
          required: false
          in: query
          name: name
        - type: string
          description: Language of the volume. example - C,C.UTF-8 etc
          required: false
          in: query
          name: language
        - type: string
          description: "Type of the volume. example - rw/RW (Read-Write) dp/DP (Data
            Protection) etc  "
          required: false
          in: query
          name: type
        - type: string
          description: "Style of the volume. example -
            flexvol|flexgroup|flexgroup-constituent "
          required: false
          in: query
          name: style
        - type: string
          description: snaplockType of the volume. example - compliance, enterprise and
            non-snaplock
          required: false
          in: query
          name: snaplockType
        - type: number
          description: Maximum records to return
          required: false
          in: query
          name: max-records
        - type: string
          description: The next volume UUID to use to retrieve results
          required: false
          in: query
          name: cursor
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              volume:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    file-system-id:
                      type: string
                    status:
                      type: string
                    svm:
                      type: string
                    type:
                      type: string
                    style:
                      type: string
                    capacity:
                      type: object
                      properties:
                        allocated:
                          type: number
                        used:
                          type: number
                        logicalUsedByAfs:
                          type: number
                    snapmirror-label:
                      type: array
                      items:
                        type: string
                    snaplock-type:
                      type: string
                    language:
                      type: string
              num-records:
                type: number
              cursor:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/working-environment/{workingEnvironmentId}/configure-object-store:
    post:
      description: <p> Configures an object storage. This is a V2 version of the
        object store configure API. It verifies whether a private endpoint is
        enabled and a certificate is installed. You can verify whether
        previously created private endpoints are enabled for AWS and Azure. This
        API endpoint is called if no object stores are found when the NetApp Backup
        and Recovery service is enabled.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - System
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              cloud-provider:
                type: string
              object-store-name:
                type: string
              ip-space:
                type: string
              access-key:
                type: string
              secret-password:
                type: string
              storage-server:
                type: string
              region:
                type: string
              aws:
                type: object
                properties:
                  account-id:
                    type: string
                    description: Required when the provider is AWS
                  private-endpoint:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Optional input field for private endpoints.
              azure:
                type: object
                properties:
                  subscription:
                    type: string
                    description: Required when the provider is Azure
                  private-endpoint:
                    type: object
                    description: Required input field for an on-premises private link configuration
                    properties:
                      subnet:
                        type: string
                        description: Required input field for an on-premises private link configuration
            required:
              - cloud-provider
              - object-store-name
        - type: string
          description: Account id
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/volume/{volumeId}/list:
    get:
      description: <p>Retrieves a list of system volume directories. You
        can run a query by using a target storage VM and the path of directories to browse
        within the volume.</p><p><strong>Token usage:</strong></span> NetApp Console
        user token.</p>
      tags:
        - System
      parameters:
        - type: string
          description: Target SVM
          required: false
          in: query
          name: svm
        - type: string
          description: Path of directories to browse within a volume
          required: false
          in: query
          name: path
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: File system ID/Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              context:
                type: array
                items:
                  type: object
                  properties:
                    inode:
                      type: number
                    name:
                      type: string
                    type:
                      type: string
                    size:
                      type: number
                    mtime:
                      type: number
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/object-store-config/status:
    get:
      description: <p>Retrieves an object store configuration status. It uses the GET
        /api/cloud/targets ONTAP REST APIs to retrieve the
        details.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - System
      parameters:
        - type: string
          required: true
          in: query
          name: object-store-name
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              status:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/snapshot-policies:
    get:
      description: <p>Lists the snapshot policies associated with a system. The API will list the snapshot policies created on the
        cluster level for the specified system. The system ID is passed as a parameter for the API REST call. It
        returns the snapshot policies and the rules associated with the
        policies.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - System
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              snapshot-policy:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    rule:
                      type: array
                      items:
                        type: object
                        properties:
                          retention:
                            type: string
                          prefix:
                            type: string
                          label:
                            type: string
                          schedule-name:
                            type: string
                          cron:
                            type: object
                            properties:
                              minutes:
                                type: array
                                items:
                                  type: integer
                              hours:
                                type: array
                                items:
                                  type: integer
                              weekdays:
                                type: array
                                items:
                                  type: integer
                              days:
                                type: array
                                items:
                                  type: integer
                              months:
                                type: array
                                items:
                                  type: integer
                          interval:
                            type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/snapshot-policies/{policyId}:
    delete:
      summary: Deletes a snapshot policy by uuid
      description: <p>Deletes the snapshot policy for the specified
        system.</p><p><strong>Token usage:</strong></span> NetApp Console
        user token.</p>
      tags:
        - System
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: Policy ID
          required: true
          in: path
          name: policyId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/replication-policy:
    get:
      description: <p> Retrieves a list of ONTAP replication policies associated with
        a system. The API will list the SnapMirror policies created
        on the cluster level for the specified system. The system ID is passed as a parameter for the REST API call. It
        returns the SnapMirror policies and the rules associated with the
        policies.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - System
      parameters:
        - type: boolean
          description: Returns the attached-volumes-count with the policy if set to true
          required: false
          in: query
          name: partial
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              replication-policy:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    id:
                      type: string
                    svm:
                      type: string
                    rule:
                      type: array
                      items:
                        type: object
                        properties:
                          label:
                            type: string
                          retention:
                            type: string
                    transfer-schedule:
                      type: object
                      properties:
                        uuid:
                          type: string
                        name:
                          type: string
                        cron:
                          type: object
                          properties:
                            minutes:
                              type: array
                              items:
                                type: integer
                            hours:
                              type: array
                              items:
                                type: integer
                            weekdays:
                              type: array
                              items:
                                type: integer
                            days:
                              type: array
                              items:
                                type: integer
                            months:
                              type: array
                              items:
                                type: integer
                        interval:
                          type: string
                    policy-type:
                      type: string
                    attached-volumes-count:
                      type: string
                    copy-latest-source-snapshot:
                      type: boolean
                    copy-all-source-snapshots:
                      type: boolean
                    allow-policy-deletion:
                      type: boolean
    post:
      description: <p> Creates a replication policy in a system.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - System
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              name:
                type: string
              rule:
                type: array
                items:
                  type: object
                  properties:
                    label:
                      type: string
                    retention:
                      type: string
              transfer-schedule:
                type: string
                description: "Cron based schedule for transfers. To disable the schedule, pass
                  the value as: none(case sensitive). By default hourly schedule
                  is selected."
              copy-all-source-snapshots:
                type: boolean
                description: Copy all source snapshots to replication detstination
              copy-latest-source-snapshot:
                type: boolean
                description: Copy only latest source snapshot to replication detstination
              svm-name:
                type: string
                description: Name of the SVM where the replication policy should be created
            required:
              - name
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/replication-policy/{policyId}:
    delete:
      summary: Delete replication policy
      description: <p> Deletes the SnapMirror policies created on the
        cluster level for the specified system.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - System
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: Policy ID
          required: true
          in: path
          name: policyId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
    patch:
      description: <p> Modifies a replication policy in a system.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - System
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              rule:
                type: array
                items:
                  type: object
                  properties:
                    label:
                      type: string
                    retention:
                      type: string
              transfer-schedule:
                type: string
                description: "Cron based schedule for transfers. To disable the schedule, pass
                  the value as: none(case sensitive). By default hourly schedule
                  is selected."
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: Replication policy UUID
          required: true
          in: path
          name: policyId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/relationship:
    get:
      description: <p> Retrieves a list of ONTAP relationships associated with a
        system. The system ID is passed as a parameter
        for the REST API call. You can query by passing parameters to specify
        the maximum number of records that should be returned, the next subsequent
        volume UUID to get results from, and the type of
        relationship.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - System
      parameters:
        - type: number
          description: Maximum records to return
          required: false
          in: query
          name: max-records
        - type: string
          description: Next volume UUID to get results from
          required: false
          in: query
          name: cursor
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              relationship:
                type: array
                items:
                  properties:
                    uuid:
                      type: string
                    source:
                      type: object
                      properties:
                        path:
                          type: string
                        svm:
                          type: string
                    destination:
                      type: object
                      properties:
                        path:
                          type: string
                    policy:
                      type: object
                      properties:
                        name:
                          type: string
                    state:
                      type: string
                    healthy:
                      type: string
                    relationship-type:
                      type: string
                      enum:
                        - intercluster
                        - intracluster
                        - backup
                    transfer:
                      type: object
                      properties:
                        last-transfer-size:
                          type: string
                        last-transfer-duration:
                          type: string
                        lag:
                          type: string
                        end-time:
                          type: string
                        state:
                          type: string
                        throttle:
                          type: string
                    protection-status:
                      type: string
                      enum:
                        - HEALTHY
                        - IN_PROGRESS
                        - ERROR
                        - WARNING
                    unhealthy-reason:
                      type: string
                    working-environment-id:
                      type: string
                    working-environment-name:
                      type: string
                  type: object
              cursor:
                type: string
              num-records:
                type: number
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/peercluster:
    get:
      description: <p> Retrieves a list of ONTAP clusters peered to a specific system. The required system ID is passed as a
        parameter for the API call. </p><p><strong>Token usage:</strong></span>
        NetApp Console user token.</p>
      tags:
        - System
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              peer-working-environment:
                type: array
                items:
                  type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/volume/{volumeId}/snapshot:
    get:
      description: <p>Retrieves a list of snapshot details pertaining to a
        specific volume in a particular system. The system ID, volume ID, and snapshot ID are passed as parameters for
        the REST API call. You can query by passing parameters to specify the
        maximum number of records that should be returned, the next subsequent
        snapshot UUID to get results from, and the next `CP-COUNT` from where
        the results should be fetched.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - System
      parameters:
        - type: number
          description: Maximum records to return
          required: false
          in: query
          name: max-records
        - type: string
          description: Next snapshot UUID to get results from
          required: false
          in: query
          name: cursor
        - type: number
          description: Next CP count to get results from
          required: false
          in: query
          name: cp-count
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              snapshot:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    size:
                      type: number
                    creation-time:
                      type: number
              num-records:
                type: number
              cursor:
                type: string
              cp-count:
                type: number
    post:
      description: <p> Creates a snapshot for a particular volume. The API
        initiates the creation of a snapshot of the volume-based on the
        snapshot policy assigned. The system ID, volume ID, and
        snapshot ID are passed as parameters for the REST API call. The snapshot
        name and label are used as headers.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - System
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              name:
                type: string
              label:
                type: string
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/volume/{volumeId}/snapshot/{snapshotId}:
    delete:
      description: <p> Deletes a snapshot of a volume. The API deletes a
        specific snapshot of a particular volume belonging to a specific
        system. The system ID, volume ID, and snapshot
        ID are passed as parameters for the REST API call.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - System
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: Snapshot ID
          required: true
          in: path
          name: snapshotId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/relationship/{relationshipId}:
    get:
      description: <p>Lists the relationship details associated with a volume
        SnapMirror replication relationship. The API returns the source details, destination
        details, policy details, status, health, transfer type, and relationship
        status details.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - System
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: Relationship ID
          required: true
          in: path
          name: relationshipId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              uuid:
                type: string
              source:
                type: object
                properties:
                  path:
                    type: string
              destination:
                type: object
                properties:
                  path:
                    type: string
              policy:
                type: object
                properties:
                  name:
                    type: string
              state:
                type: string
              healthy:
                type: string
              transfer:
                type: object
                properties:
                  last-transfer-size:
                    type: string
                  last-transfer-duration:
                    type: string
                  lag:
                    type: string
                  end-time:
                    type: string
                  state:
                    type: string
                  throttle:
                    type: string
              protection-status:
                type: string
                enum:
                  - HEALTHY
                  - IN_PROGRESS
                  - ERROR
                  - WARNING
              working-environment-id:
                type: string
              working-environment-name:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/volume/{volumeId}/snapshot-policy:
    put:
      description: <p> Modifies the snapshot policy to match the volume snapshot policy
        based on the SnapMirror relationship associated with the volume in a
        system. </p><p><strong>Token usage:</strong></span> NetApp Console
        user token.</p>
      tags:
        - System
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              status:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/schedules:
    get:
      description: <p> Retrieves a list of schedules present in a system.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - System
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              schedules:
                type: array
                items:
                  type: object
                  properties:
                    uuid:
                      type: string
                    name:
                      type: string
                    cron:
                      type: object
                      properties:
                        minutes:
                          type: array
                          items:
                            type: integer
                        hours:
                          type: array
                          items:
                            type: integer
                        weekdays:
                          type: array
                          items:
                            type: integer
                        days:
                          type: array
                          items:
                            type: integer
                        months:
                          type: array
                          items:
                            type: integer
                    interval:
                      type: string
    post:
      description: <p> Creates a new cron schedule in a system.
        </p><p><strong>Token usage:</strong></span> NetApp Console user token.</p>
      tags:
        - System
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              schedules:
                type: array
                items:
                  type: object
                  properties:
                    schedule-name:
                      type: string
                    cron:
                      type: object
                      properties:
                        minutes:
                          type: array
                          items:
                            type: integer
                          description: The minutes the schedule runs, required on POST for a cron
                            schedule.
                        hours:
                          type: array
                          items:
                            type: integer
                        weekdays:
                          type: array
                          items:
                            type: string
                            enum:
                              - SUNDAY
                              - MONDAY
                              - TUESDAY
                              - WEDNESDAY
                              - THURSDAY
                              - FRIDAY
                              - SATURDAY
                        days:
                          type: array
                          items:
                            type: integer
                        months:
                          type: array
                          items:
                            type: string
                            enum:
                              - JANUARY
                              - FEBRUARY
                              - MARCH
                              - APRIL
                              - MAY
                              - JUNE
                              - JULY
                              - AUGUST
                              - SEPTEMBER
                              - OCTOBER
                              - NOVEMBER
                              - DECEMBER
                      required:
                        - minutes
                  required:
                    - schedule-name
                    - cron
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/snapshot-policy:
    post:
      description: <p> Creates a snapshot policy with the user specified schedule,
        count and SnapMirror labels in a system.
        </p><p><strong>Token usage:</strong></span> NetApp Console user token.</p>
      tags:
        - System
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              name:
                type: string
                description: Snapshot policy name
              copies:
                type: array
                items:
                  type: object
                  properties:
                    schedule-name:
                      type: string
                    label:
                      type: string
                      description: Label for SnapMirror operations
                    count:
                      type: number
                      description: Number of snapshots to maintain for this schedule
                  required:
                    - schedule-name
                    - count
            required:
              - name
              - copies
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/working-environment/{workingEnvironmentId}/snapshot-policy/{policyId}:
    patch:
      description: <p> Modifies the snapshot policy in a system.
        For existing schedules attached to a snapshot policy, the SnapMirror label and count can be modified, it also supports the addition and
        removal of schedules. </p><p><strong>Token usage:</strong></span> NetApp Console
        user token.</p>
      tags:
        - System
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              rules:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    label:
                      type: string
                      description: Label for SnapMirror operations
                    count:
                      type: number
                      description: Number of snapshots to maintain for this rule
                  required:
                    - name
                    - label
                    - count
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: Snapshot Policy ID
          required: true
          in: path
          name: policyId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              status:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/working-environment/discover/volumes:
    post:
      description: <p> Discovers all volumes with relationships for a
        list of systems.</p><p><strong>Token usage:</strong></span>
        NetApp Console user token.</p>
      tags:
        - System
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              workingEnvironmentIds:
                type: array
                items:
                  type: string
              discoverRelationships:
                type: boolean
                default: false
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default Response
          schema:
            type: object
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/aws/account:
    get:
      description: <p>Retrieves a list of AWS accounts from the
        NetApp Console.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              account:
                type: array
                items:
                  type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/aws/region:
    get:
      description: <p>Retrieves a list of subscribed AWS regions. </p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              region:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    code:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/aws/awsAccountId/{awsAccountId}/region/{regionCode}/key:
    get:
      description: <p>Retrieves a list of AWS keys from a specified region that
        belongs to a specified AWS account ID.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Region code
          required: true
          in: path
          name: regionCode
        - type: string
          description: AWS account ID
          required: true
          in: path
          name: awsAccountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              key:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    id:
                      type: string
                    origin:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/aws/awsAccountId/{awsAccountId}/region/{regionCode}/privateLink:
    get:
      description: <p>Retrieves a list of AWS private links from a specified region
        that belongs to a specified AWS account ID.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Region code
          required: true
          in: path
          name: regionCode
        - type: string
          description: AWS account ID
          required: true
          in: path
          name: awsAccountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              privateLink:
                type: array
                items:
                  type: object
                  properties:
                    vpc-name:
                      type: string
                    vpc-id:
                      type: string
                    private-endpoint-id:
                      type: string
                    private-endpoint-name:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/aws/archival-storage-class:
    get:
      description: <p>Retrieves a list of AWS storage classes available for archival
        support.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              storage-class:
                type: array
                items:
                  type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/aws/awsAccountId/{awsAccountId}/buckets:
    get:
      description: <p>Retrieves a list of AWS S3 buckets from a specified region that
        belongs to a specified AWS account ID from the NetApp Console SaaS
        application.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Bucket fields
          required: false
          in: query
          name: fields
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: AWS account ID
          required: true
          in: path
          name: awsAccountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              buckets:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    region:
                      type: string
                    is-encrypted:
                      type: string
                    is-public:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/aws/awsAccountId/{awsAccountId}/buckets/{bucketName}:
    get:
      description: <p>Retrieves a specific AWS S3 bucket from a specified region that
        belongs to a specified AWS account ID from the NetApp Console SaaS
        application.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Bucket fields
          required: false
          in: query
          name: fields
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: AWS account ID
          required: true
          in: path
          name: awsAccountId
        - type: string
          description: AWS bucket name
          required: true
          in: path
          name: bucketName
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              buckets:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    region:
                      type: string
                    is-encrypted:
                      type: string
                    is-public:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/azure/subscription/{subscriptionId}/region:
    get:
      description: <p>Retrieves a list of regions from a specific subscription ID in
        Azure.</p><p><strong>Token usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Subscription ID
          required: true
          in: path
          name: subscriptionId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              region:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    code:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/azure/subscription/{subscriptionId}/resource-group:
    post:
      description: <p>Creates an Azure resource group in the specified subscription
        ID.</p><p><strong>Token usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Cloud
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              name:
                type: string
                description: Name of the resource group to be created
              region:
                type: string
                description: Region where the resource group needs to be created
            required:
              - name
              - region
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Subscription ID
          required: true
          in: path
          name: subscriptionId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              state:
                type: string
    get:
      description: <p>Retrieves a list of Azure resource groups from a specific
        subscription ID in Azure.</p><p><strong>Token usage:</strong></span>
        NetApp Console user token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Region
          required: false
          in: query
          name: region
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Subscription ID
          required: true
          in: path
          name: subscriptionId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              resource-group:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    id:
                      type: string
                    region:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/azure/subscription/{subscriptionId}/vnet:
    get:
      description: <p>Retrieves a list of Azure virtual networks from a specific
        subscription ID in Azure cloud.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Region
          required: false
          in: query
          name: region
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Subscription ID
          required: true
          in: path
          name: subscriptionId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              vnet:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    id:
                      type: string
                    region:
                      type: string
                    subnet:
                      type: array
                      items:
                        type: object
                        properties:
                          name:
                            type: string
                          id:
                            type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/azure/subscription:
    get:
      description: <p>Retrieves a list of Azure subscriptions for a particular
        account.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              subscription:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    id:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/azure/subscription/{subscriptionId}/vault/{vaultName}/key:
    get:
      description: <p>Retrieves a list of Azure vault keys from a particular vault for
        a specific subscription ID in Azure cloud.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Subscription ID
          required: true
          in: path
          name: subscriptionId
        - type: string
          description: Azure key vault name
          required: true
          in: path
          name: vaultName
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              key:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    id:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/azure/subscription/{subscriptionId}/vault:
    get:
      description: <p>Retrieves a list of Azure vaults for a specific subscription ID
        in Azure cloud.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Subscription ID
          required: true
          in: path
          name: subscriptionId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              vault:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    id:
                      type: string
                    region:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/azure/subscription/{subscriptionId}/resourceGroup/{resourceGroup}/storageAccounts:
    get:
      description: <p>Retrieves a list of Azure storage accounts for a specific
        subscription ID in a resource group in Azure cloud from the NetApp Console SaaS
        application.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Storage account fields
          required: false
          in: query
          name: fields
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Subscription ID
          required: true
          in: path
          name: subscriptionId
        - type: string
          description: Resource Group
          required: true
          in: path
          name: resourceGroup
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              storageAccounts:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    is-encrypted:
                      type: string
                    is-public:
                      type: string
                    region:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/azure/subscription/{subscriptionId}/resourceGroup/{resourceGroup}/storageAccounts/{storageAccountName}:
    get:
      description: <p>Retrieves a specific Azure storage account for a specific
        subscription ID in a resource group in Azure cloud from the NetApp Console SaaS
        application.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: storage account fields
          required: false
          in: query
          name: fields
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Subscription ID
          required: true
          in: path
          name: subscriptionId
        - type: string
          description: Resource Group
          required: true
          in: path
          name: resourceGroup
        - type: string
          description: Storage Account Name
          required: true
          in: path
          name: storageAccountName
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              storageAccounts:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    is-encrypted:
                      type: string
                    is-public:
                      type: string
                    region:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/gcp/project:
    get:
      description: <p>Retrieves a list of Google Cloud projects.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              project:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    id:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/gcp/project/{projectId}/region:
    get:
      description: <p>Retrieves a list of regions from a specific Google Cloud
        project.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Project ID
          required: true
          in: path
          name: projectId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              region:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    code:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/gcp/project/{projectId}/region/{locationId}/keyrings:
    get:
      description: <p>Retrieves a list of KeyRings for a region from a specific Google
        Cloud project.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Project ID
          required: true
          in: path
          name: projectId
        - type: string
          description: Region or location (for example, "us-east1")
          required: true
          in: path
          name: locationId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              keyRings:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/gcp/project/{projectId}/region/{locationId}/keyrings/{keyRingId}/cryptokey:
    get:
      description: <p>Retrieves a list of CryptoKeys for a KeyRing in a region from a
        specific Google Cloud project.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Project ID
          required: true
          in: path
          name: projectId
        - type: string
          description: Region or Location (for example, "us-east1")
          required: true
          in: path
          name: locationId
        - type: string
          description: Key Ring ID
          required: true
          in: path
          name: keyRingId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              cryptoKeys:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    name:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/gcp/project/{projectId}/buckets:
    get:
      description: <p>Retrieves a list of buckets in a region from a specific Google
        Cloud project from the NetApp Console SaaS application.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: bucket fields
          required: false
          in: query
          name: fields
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Project ID
          required: true
          in: path
          name: projectId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              buckets:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    is-encrypted:
                      type: string
                    is-public:
                      type: string
                    region:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/gcp/project/{projectId}/buckets/{bucketName}:
    get:
      description: <p>Retrieves a specific Google Cloud bucket in a region from a specific
        Google Cloud project from the NetApp Console SaaS
        application.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Bucket fields
          required: false
          in: query
          name: fields
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Project ID
          required: true
          in: path
          name: projectId
        - type: string
          description: Bucket name
          required: true
          in: path
          name: bucketName
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              buckets:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    is-encrypted:
                      type: string
                    is-public:
                      type: string
                    region:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/gcp/credentials:
    get:
      description: <p>Lists Google Cloud credentials in the NetApp Console SaaS
        application.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: List of Google Cloud credential IDs
          schema:
            type: object
            description: List of Google Cloud credential IDs
            properties:
              ids:
                type: array
                items:
                  type: string
    post:
      description: <p>Registers Google Cloud credentials for a Google Cloud project in
        the NetApp Console SaaS application.</p><p><strong>Token usage:</strong></span>
        NetApp Console user token.</p>
      tags:
        - Cloud
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              credentials-id:
                type: string
                description: Credentials ID. Must only contain lower case alphabets, numbers and
                  hyphen(-). Must start and end with an alphabet or number.
              access-key:
                type: string
                description: Google Cloud access-key.
              secret-password:
                type: string
                description: Google Cloud secret-password.
            required:
              - credentials-id
              - access-key
              - secret-password
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/gcp/credentials/{credentialsId}:
    put:
      description: <p>Updates Google Cloud credentials for a Google Cloud project in the
        NetApp Console SaaS application.</p><p><strong>Token usage:</strong></span>
        NetApp Console user token.</p>
      tags:
        - Cloud
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              access-key:
                type: string
                description: Google Cloud access-key.
              secret-password:
                type: string
                description: Google Cloud secret-password.
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Credential ID
          required: true
          in: path
          name: credentialsId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
    delete:
      description: <p>Deletes the Google Cloud credentials for a Google Cloud project in the
        NetApp Console SaaS application.</p><p><strong>Token usage:</strong></span>
        NetApp Console user token.</p>
      tags:
        - Cloud
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Credentials ID
          required: true
          in: path
          name: credentialsId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "204":
          description: Default response
          schema:
            type: object
            description: Default response
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/job:
    get:
      description: <p>Retrieves a list of jobs from the NetApp Console SaaS application. You
        can query based on the job type and job status from the NetApp Console SaaS
        application.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Job
      parameters:
        - type: string
          description: Job type
          required: false
          in: query
          name: type
        - type: string
          description: Job Status
          required: false
          in: query
          name: status
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    working-environment-id:
                      type: string
                    type:
                      type: string
                    status:
                      type: string
                      enum:
                        - PENDING
                        - IN_PROGRESS
                        - FAILED
                        - COMPLETED
                    error:
                      type: string
                    time:
                      type: number
                    data:
                      type: object
                      description: Optional object present in case of batch or individual operations
                        running inside the main job only
                      properties:
                        multi-volume-backup:
                          type: object
                          description: Contains individual volume data for multi-volume-backup
                          properties:
                            volume:
                              type: array
                              description: Array of objects containing volume backup status or errors with the
                                volume ID
                              items:
                                type: object
                                properties:
                                  id:
                                    type: string
                                    description: Volume ID
                                  status:
                                    type: string
                                    description: SUCCESS / FAILED status
                                    enum:
                                      - SUCCESS
                                      - FAILED
                                  error:
                                    type: string
                                    description: Error message in case of failure
                        restore:
                          type: object
                          description: Contains information about restore job - file and volume restore
                          properties:
                            type:
                              type: string
                              description: Type of restore - file or volume
                            source:
                              type: object
                              description: Optional object, present only for restore operations
                              properties:
                                working-environment-id:
                                  type: string
                                working-environment-name:
                                  type: string
                                bucket:
                                  type: string
                                volume-id:
                                  type: string
                                volume-name:
                                  type: string
                                snapshot:
                                  type: string
                            target:
                              type: object
                              description: Optional object, present only for restore operations
                              properties:
                                working-environment-id:
                                  type: string
                                working-environment-name:
                                  type: string
                                svm:
                                  type: string
                                volume-name:
                                  type: string
                                volume-size:
                                  type: number
                                path:
                                  type: string
                            batch:
                              type: array
                              description: Optional array, present only for restore file operations
                              items:
                                type: object
                                properties:
                                  id:
                                    type: string
                                  status:
                                    type: string
                                    enum:
                                      - PENDING
                                      - IN_PROGRESS
                                      - SUCCESS
                                      - FAILED
                                  error:
                                    type: string
                                  time:
                                    type: number
                                  file:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        inode:
                                          type: number
                                        path:
                                          type: string
                                        type:
                                          type: string
                                        size:
                                          type: number
                                        mtime:
                                          type: number
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/job/{jobId}:
    get:
      description: <p>Retrieves the details of particular jobs from the NetApp Console SaaS
        application. </p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Job
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Job ID
          required: true
          in: path
          name: jobId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                    working-environment-id:
                      type: string
                    type:
                      type: string
                    status:
                      type: string
                      enum:
                        - PENDING
                        - IN_PROGRESS
                        - FAILED
                        - COMPLETED
                    error:
                      type: string
                    time:
                      type: number
                    data:
                      type: object
                      description: Optional object, present for batch or individual operations
                        running inside the main job only
                      properties:
                        multi-volume-backup:
                          type: object
                          description: Contains individual volume data for multi-volume-backup
                          properties:
                            volume:
                              type: array
                              description: Array of objects containing volume backup status or errors with the
                                volume ID
                              items:
                                type: object
                                properties:
                                  id:
                                    type: string
                                    description: Volume ID
                                  status:
                                    type: string
                                    description: SUCCESS / FAILED status
                                    enum:
                                      - SUCCESS
                                      - FAILED
                                  error:
                                    type: string
                                    description: Error message in case of failure
                        restore:
                          type: object
                          description: Contains information about restore job - file and volume restore
                          properties:
                            type:
                              type: string
                              description: Type of restore - file / volume
                            source:
                              type: object
                              description: Optional object, present only in case of restore operation
                              properties:
                                working-environment-id:
                                  type: string
                                working-environment-name:
                                  type: string
                                bucket:
                                  type: string
                                volume-id:
                                  type: string
                                volume-name:
                                  type: string
                                snapshot:
                                  type: string
                            target:
                              type: object
                              description: Optional object, present only in case of restore operation
                              properties:
                                working-environment-id:
                                  type: string
                                working-environment-name:
                                  type: string
                                svm:
                                  type: string
                                volume-name:
                                  type: string
                                volume-size:
                                  type: number
                                path:
                                  type: string
                            batch:
                              type: array
                              description: Optional array present only in case of restore file operation
                              items:
                                type: object
                                properties:
                                  id:
                                    type: string
                                  status:
                                    type: string
                                    enum:
                                      - PENDING
                                      - IN_PROGRESS
                                      - SUCCESS
                                      - FAILED
                                  error:
                                    type: string
                                  time:
                                    type: number
                                  file:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        inode:
                                          type: number
                                        path:
                                          type: string
                                        type:
                                          type: string
                                        size:
                                          type: number
                                        mtime:
                                          type: number
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/feature-flags:
    get:
      description: Get the list of features which are enabled or disabled for the account
      tags:
        - Features
      parameters:
        - type: string
          required: true
          in: path
          name: accountId
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              flexgroup-volume-directory-restore:
                type: boolean
              volumes-dashboard-v2:
                type: boolean
              allow-s3-compatible:
                type: boolean
              smc-resync:
                type: boolean
              job-monitor:
                type: boolean
              storage-protection:
                type: boolean
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/catalog/working-environments/{workingEnvironmentId}/setup:
    post:
      description: <p> Configures the service to include indexed cataloging services.
        It     enables the AWS Athena interactive S3 query service and AWS Glue
        serverless data integration service for AWS setup, Azure Synapse
        analytics service for Azure setup, Google BigQuery service for Google Cloud setup
        and DuckDB installation for StorageGRID.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags: 
        - Catalog
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/catalog/re-index:
    post:
      description: <p> Re-indexes the catalog for all the systems in an
        account</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Catalog
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/catalog/search:
    post:
      description: <p> Searches for a specific file from the backups taken by the
        NetApp Backup and Recovery service across volumes and
        working-environments. It can also search for a specified volume. It is
        possible to narrow down your file search based on a particular system, file extensions, size ranges, creation date range, and also
        location of a backup. </p><p><strong>Token usage:</strong></span>NetApp Console
        user token.</p>
      tags:
        - Catalog
      parameters:
        - type: string
          description: Search sting
          required: true
          in: query
          name: query
        - type: string
          required: false
          in: query
          name: jobId
        - name: body
          in: body
          schema:
            type: object
            properties:
              type:
                type: string
                description: Type of resource file/volume
                enum:
                  - FILE
                  - DIRECTORY
                  - VOLUME
              workingEnvironmentId:
                type: array
                items:
                  type: string
              fileExtension:
                description: File extension
                type: array
                items:
                  type: string
              size:
                type: object
                description: Resource size in bytes
                properties:
                  from:
                    type: number
                  to:
                    type: number
              creationDate:
                type: object
                description: Creation date in milliseconds
                properties:
                  from:
                    type: number
                  to:
                    type: number
              backupLocation:
                type: string
                description: Snapshot location local/cloud
                enum:
                  - LOCAL
                  - CLOUD
              volumeId:
                type: string
                description: Volume ID
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              results:
                type: array
                items:
                  type: object
                  properties:
                    resourceName:
                      type: string
                    resourceType:
                      type: string
                    workingEnvironmentId:
                      type: string
                    workingEnvironmentName:
                      type: string
                    svmName:
                      type: string
                    volumeId:
                      type: string
                    volumeName:
                      type: string
                    resourceSize:
                      type: number
                    inode:
                      type: number
                    mtime:
                      type: number
                    latestSnapshotCreationTime:
                      type: number
                    snapshotsCount:
                      type: number
              endOfResults:
                type: boolean
              status:
                type: string
              message:
                type: string
        "202":
          description: Default Response
          schema:
            type: object
            properties:
              job-id:
                type: string
              status:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/catalog/search/job:
    get:
      description: <p> Searches for a specific file from the backups taken by the
        NetApp Backup and Recovery service across volumes and
        systems. It can also search for a specified volume. It is
        possible to narrow down your file search based on a particular system, file extensions, size ranges, creation date range, and also
        location of a backup. </p><p><strong>Token usage:</strong></span>NetApp Console
        user token.</p>
      tags:
        - Catalog
      parameters:
        - type: string
          description: Search sting
          required: true
          in: query
          name: query
        - type: string
          required: false
          in: query
          name: jobId
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              results:
                type: array
                items:
                  type: object
                  properties:
                    resourceName:
                      type: string
                    resourceType:
                      type: string
                    workingEnvironmentId:
                      type: string
                    workingEnvironmentName:
                      type: string
                    svmName:
                      type: string
                    volumeId:
                      type: string
                    volumeName:
                      type: string
                    resourceSize:
                      type: number
                    inode:
                      type: string
                    mtime:
                      type: number
                    latestSnapshotCreationTime:
                      type: number
                    snapshotsCount:
                      type: number
              endOfResults:
                type: boolean
              status:
                type: string
              message:
                type: string
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/catalog/snapshots:
    post:
      description: <p>Retrieves a list of local and cloud snapshots pertaining
        to a particular volume by using the catalog index query.
        </p><p><strong>Token usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Catalog
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              resourceName:
                type: string
              workingEnvironmentId:
                type: string
              volumeId:
                type: string
              resourceType:
                type: string
              inode:
                type: string
              mtime:
                type: number
            required:
              - resourceName
              - workingEnvironmentId
              - volumeId
              - resourceType
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              results:
                type: object
                properties:
                  workingEnvironmentId:
                    type: string
                  workingEnvironmentName:
                    type: string
                  volumeName:
                    type: string
                  volumeId:
                    type: string
                  snapshots:
                    type: array
                    items:
                      type: object
                      properties:
                        snapshotId:
                          type: string
                        snapshotName:
                          type: string
                        snapshotSize:
                          type: number
                        snapshotCreationTime:
                          type: number
                        location:
                          type: string
                        last-ransomware-scan:
                          type: number
                        ransomware-scan-status-failure:
                          type: string
                        object-lock:
                          type: string
                          enum:
                            - GOVERNANCE
                            - COMPLIANCE
                            - NONE
                            - LOCKED
                            - UNLOCKED
                        ransomware-scan-status:
                          type: string
                          enum:
                            - RANSOMWARE_DETECTED
                            - IN_PROGRESS
                            - PROTECTED
                            - FAILED
                        archived:
                          type: boolean
              endOfResults:
                type: boolean
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/catalog/working-environments/{workingEnvironmentId}:
    put:
      description: <p>Enables or disables the indexed cataloging service for a
        specified system  on AWS, Azure, Google Cloud and on-premise or dark
        site deployments.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - Catalog
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              state:
                type: string
                description: Modifies all the SnapMirror relationship states in the working
                  envrionment to the state specified
                enum:
                  - ENABLE
                  - DISABLE
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/license/working-environment/{workingEnvironmentId}:
    get:
      description: "<p>Retrieves the license validity of the systems from
        the NetApp Console SaaS application. The API retrieves the eligibility of the
        current license used and it also returns the days remaining if you are
        using a trial license.</p><p><strong>Token usage:</strong></span> NetApp Console
        user token.</p> "
      tags:
        - License
      parameters:
        - type: string
          enum:
            - AWS
            - AZURE
            - GCP
            - SGWS
          required: true
          in: query
          name: provider
        - type: string
          description: Cloud provider account ID. AWS account ID/Azure subscription ID/
            Google Cloud project ID. It is not mandatory to send this query
            parameter for StorageGRID
          required: false
          in: query
          name: cloudProviderAccountId
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              free-trial-end:
                type: number
              eligible:
                type: boolean
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/license/working-environment/{workingEnvironmentId}/validity:
    get:
      description: <p>Checks if there is a valid marketplace subscription, backup
        license, and SnapMirror license in a system.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - License
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              marketplace-subscription:
                type: boolean
              cloud-backup-license:
                type: boolean
              snapmirror-license:
                type: boolean
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/ransomware/working-environment/{workingEnvironmentId}/volume/{volumeId}/snapshot/{snapshotId}:
    post:
      description: <p>Initiates a ransomware scan on the specified cloud backup
        pertaining to volume snapshot transferred by the SnapMirror - Cloud
        engine to the cloud object storage system. It scans only cloud backups.
        It does not support scanning local snapshots. Ransomware attacks
        on local snapshots cannot be detected.</p></p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Ransomware Scan
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: Volume ID
          required: true
          in: path
          name: volumeId
        - type: string
          description: Snapshot ID
          required: true
          in: path
          name: snapshotId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/sg/version:
    post:
      description: "<p>Retrieves the version of the StorageGRID
        servers.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p> "
      tags:
        - StorageGRID
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              storage-server:
                type: string
                description: StorageGRID server URL.
            required:
              - storage-server
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              version:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/sg:
    post:
      description: <p>Discovers a new StorageGRID server in the NetApp Console SaaS
        application.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - StorageGRID
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              admin-host:
                type: string
                description: StorageGRID Admin host IP.
              admin-username:
                type: string
                description: StorageGRID Admin Username.
              admin-password:
                type: string
                description: StorageGRID Admin Password.
            required:
              - admin-host
              - admin-username
              - admin-password
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              name:
                type: string
              id:
                type: string
  
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/sg/credentials/working-environment/{workingEnvironmentId}:
    post:
      description: "<p> Saves the StorageGRID credentials.<p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p> "
      tags:
        - StorageGRID
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              storage-server:
                type: string
                description: StorageGRID server URL. Required input field for a StorageGRID
                  provider
              access-key:
                type: string
                description: Required input field for an on-premises use case
              secret-password:
                type: string
                description: Required input field for an on-premises use case
            required:
              - storage-server
              - access-key
              - secret-password
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: System ID
          required: true
          in: path
          name: workingEnvironmentId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/sg/buckets:
    post:
      description: <p>Retrieves a list of StorageGRID buckets from the StorageGRID
        server.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - StorageGRID
      parameters:
        - type: string
          description: bucket fields
          required: false
          in: query
          name: fields
        - name: body
          in: body
          schema:
            type: object
            properties:
              storage-server:
                type: string
                description: StorageGRID server URL. Required input field for a StorageGRID
                  provider
              access-key:
                type: string
                description: Required input field for an on-premises use case
              secret-password:
                type: string
                description: Required input field for an on-premises use case
            required:
              - storage-server
              - access-key
              - secret-password
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              buckets:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    region:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/sg/buckets/{bucketName}:
    post:
      description: <p>Retrieves details of a specific bucket from the StorageGRID
        server.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - StorageGRID
      parameters:
        - type: string
          description: bucket fields
          required: false
          in: query
          name: fields
        - name: body
          in: body
          schema:
            type: object
            properties:
              storage-server:
                type: string
                description: StorageGRID server URL. Required input field for a StorageGRID
                  provider
              access-key:
                type: string
                description: Required input field for an on-premises use case
              secret-password:
                type: string
                description: Required input field for an on-premises use case
            required:
              - storage-server
              - access-key
              - secret-password
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: SGWS Bucket Name
          required: true
          in: path
          name: bucketName
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              buckets:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                    region:
                      type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/sg:
    get:
      description: <p>List StorageGRID servers in the NetApp Console SaaS
        application.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - StorageGRID
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: List of storage grid server names
          schema:
            type: object
            description: List of storage grid server names
            properties:
              ids:
                type: array
                items:
                  type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/sg/credentials:
    post:
      description: <p>Register a new StorageGRID credentials in the NetApp Console SaaS
        application.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - StorageGRID
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              storage-server-name:
                type: string
                description: StorageGRID server name.
              port:
                type: string
                description: StorageGRID node port.
              access-key:
                type: string
                description: StorageGRID tenant access-key.
              secret-password:
                type: string
                description: StorageGRID tenant secret-password.
            required:
              - storage-server-name
              - port
              - access-key
              - secret-password
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
  /account/{accountId}/providers/cloudmanager_cbs/api/v2/sg/credentials/{storageServerName}:
    put:
      description: <p>Update StorageGRID credentials in the NetApp Console SaaS
        application.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - StorageGRID
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              port:
                type: string
                description: StorageGRID node port.
              access-key:
                type: string
                description: StorageGRID tenant access-key.
              secret-password:
                type: string
                description: StorageGRID tenant secret-password.
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: StorageGRID server name
          required: true
          in: path
          name: storageServerName
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
    delete:
      description: <p>Delete StorageGRID credentials in the NetApp Console SaaS
        application.</p><p><strong>Token usage:</strong></span> NetApp Console user
        token.</p>
      tags:
        - StorageGRID
      parameters:
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: StorageGRID server name
          required: true
          in: path
          name: storageServerName
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "204":
          description: Default response
          schema:
            type: object
            description: Default response
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/report:
    post:
      description: <p>Generates inventory report. You can create the inventory report
        for the whole account or a specific list of systems. It is
        also possible to generate reports for storage VMs under a system. By setting the "inventory-type" as "BACKUP", you can create
        a report for the backup actions. By setting it as "ALL", you can create
        a report for all the actions.</p>
      tags:
        - Report
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              inventory-type:
                type: string
                enum:
                  - ALL
                  - BACKUP
              protection-type:
                type: string
                enum:
                  - BACKUP
                  - LOCAL_SNAPSHOT
                  - REPLICATION
              returnSnapshots:
                type: boolean
              filters:
                type: array
                items:
                  type: object
                  properties:
                    working-environment-id:
                      type: string
                    svm:
                      type: array
                      items:
                        type: string
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/report/job/{jobId}:
    get:
      description: <p>Retrieves the inventory report
        data that was generated by the Inventory Report POST API. When called,
        it downloads the inventory report data based on the scope (account,
        system, storage VM) specified during the deployment of the
        Inventory Report POST API.</p><p><strong>Token usage:</strong></span>
        NetApp Console user token.</p>
      tags:
        - Report
      parameters:
        - type: number
          description: Page number to the fetch the paginated report. Last page of the
            report must be accessed to clean up the report from the memory
          required: false
          in: query
          name: page
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Job ID
          required: true
          in: path
          name: jobId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              report:
                type: array
                items:
                  type: object
                  properties:
                    working-environment-id:
                      type: string
                    working-environment-name:
                      type: string
                    working-environment-status:
                      type: string
                    backup-enablement-status:
                      type: string
                    working-environment-type:
                      type: string
                    total-volumes-count:
                      type: number
                    backed-up-volumes-count:
                      type: number
                    provider:
                      type: string
                    provider-account-id:
                      type: string
                    bucket:
                      type: string
                    archive-storage-class:
                      type: string
                    region:
                      type: string
                    cmek:
                      type: object
                      properties:
                        enabled:
                          type: boolean
                        keyDetails:
                          type: object
                          additionalProperties: true
                          description: JSON data containing data specific to Customer Managed Encryption Keys
                    volumes:
                      type: array
                      items:
                        type: object
                        properties:
                          uuid:
                            type: string
                          name:
                            type: string
                          svm:
                            type: string
                          status:
                            type: string
                          backup-status:
                            type: string
                          last-backup-creation-time:
                            type: number
                          snapshot-count:
                            type: string
                          backup-policy:
                            type: object
                            properties:
                              name:
                                type: string
                              rule:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    label:
                                      type: string
                                    retention:
                                      type: string
                              archive-after-days:
                                type: string
                          snapshot:
                            type: array
                            items:
                              type: object
                              properties:
                                id:
                                  type: string
                                name:
                                  type: string
                                creation-time:
                                  type: number
                                size:
                                  type: number
                                object-lock:
                                  type: string
                                archived:
                                  type: boolean
                          object-lock:
                            type: string
                            enum:
                              - GOVERNANCE
                              - COMPLIANCE
                              - NONE
                              - LOCKED
                              - UNLOCKED
                          ransomware-scan-status:
                            type: string
                            enum:
                              - RANSOMWARE_DETECTED
                              - IN_PROGRESS
                              - PROTECTED
                              - FAILED
                          last-ransomware-scan:
                            type: number
              page:
                type: number
              total-pages:
                type: number
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/report/snapshot/job/{jobId}:
    get:
      description: <p>Retrieves the local snapshots
        report data that was generated by the Local Snapshot Inventory Report
        POST API. When called, it downloads the  local snapshot report data
        based on the scope (account, system) specified during the
        deployment of the Replication Inventory Report POST
        API.</p><p><strong>Token usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Report
      parameters:
        - type: number
          description: Page number to the fetch the paginated report. Last page of the
            report must be accessed to clean up the report from the memory
          required: false
          in: query
          name: page
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Job ID
          required: true
          in: path
          name: jobId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              report:
                type: array
                items:
                  type: object
                  properties:
                    working-environment-name:
                      type: string
                    working-environment-id:
                      type: string
                    volume-count:
                      type: number
                    volumes:
                      type: array
                      items:
                        type: object
                        properties:
                          name:
                            type: string
                          svm:
                            type: string
                          state:
                            type: string
                          snapshot-count:
                            type: number
                          snapshot-policy:
                            type: string
                          snapshots:
                            type: array
                            items:
                              type: object
                              properties:
                                name:
                                  type: string
                                creation-time:
                                  type: number
                                size:
                                  type: number
                                state:
                                  type: string
                                expiry-time:
                                  type: number
                                snaplock-expiry-time:
                                  type: number
              page:
                type: number
              total-pages:
                type: number
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/report/replication/job/{jobId}:
    get:
      description: <p>Retrieves the replication report
        data that was generated by the Replication Inventory Report POST API.
        When called, it downloads the replication report data based on the scope
        (account, system) specified during the deployment of the
        Replication Inventory Report POST API.</p><p><strong>Token
        usage:</strong></span> NetApp Console user token.</p>
      tags:
        - Report
      parameters:
        - type: number
          description: Page number to the fetch the paginated report. Last page of the
            report must be accessed to clean up the report from the memory
          required: false
          in: query
          name: page
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          description: Job ID
          required: true
          in: path
          name: jobId
        - type: string
          description: User token
          required: true
          in: header
          name: authorization
        - type: string
          description: Request identifier
          required: true
          in: header
          name: x-agent-id
      responses:
        "200":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              report:
                type: object
                properties:
                  total-volumes-count:
                    type: number
                  total-svms-count:
                    type: number
                  relationships:
                    type: array
                    items:
                      properties:
                        source-working-environment:
                          type: string
                        target-working-environment:
                          type: string
                        snapshot-count:
                          type: number
                        snapshots:
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                              creation-time:
                                type: number
                              size:
                                type: number
                        state:
                          type: string
                        policy:
                          type: string
                        source-volume:
                          type: string
                        source-volume-svm:
                          type: string
                        target-volume:
                          type: string
                        target-volume-svm:
                          type: string
                        source-volume-uuid:
                          type: string
                        healthy:
                          type: string
                        unhealthy-reason:
                          type: string
                        policy-type:
                          type: string
                        source-volume-state:
                          type: string
                      type: object
              page:
                type: number
              total-pages:
                type: number
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/migration/validate:
    post:
      summary: Validate Migration Operations
      description: API to validate migration of backups from Source ONTAP to Target ONTAP
      tags:
        - migration
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              sourceWorkingEnvironmentId:
                type: string
              migrationWorkingEnvironmentId:
                type: string
              migrationMappingDetails:
                type: array
                items:
                  type: object
                  properties:
                    sourceVolumeUuid:
                      type: string
                    migratedVolumeUuid:
                      type: string
                    policyName:
                      type: string
            required:
              - sourceWorkingEnvironmentId
              - migrationWorkingEnvironmentId
              - migrationMappingDetails
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          required: true
          in: header
          name: authorization
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/migration:
    post:
      summary: Migration Operations
      description: API to trigger migration of backups from Source ONTAP to Target ONTAP
      tags:
        - migration
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              sourceWorkingEnvironmentId:
                type: string
              migrationWorkingEnvironmentId:
                type: string
              migrationMappingDetails:
                type: array
                items:
                  type: object
                  properties:
                    sourceVolumeUuid:
                      type: string
                    migratedVolumeUuid:
                      type: string
                    policyName:
                      type: string
              ip-space:
                type: string
                description: Required input field for on-premises use cases
              aws:
                type: object
                properties:
                  private-endpoint:
                    type: object
                    description: Required input field for on-premises use case for private link
                      configuration
                    properties:
                      id:
                        type: string
                        description: Optional input field for a private endpoint
              azure:
                type: object
                properties:
                  private-endpoint:
                    type: object
                    description: Required input field for private link configuration
                    properties:
                      subnet:
                        type: string
                        description: Required input field for on-premises private link configuration
                      skip-creation:
                        type: boolean
                        description: Optional input field to skip private endpoint creation
                        default: false
              gcp:
                type: object
                properties:
                  access-key:
                    type: string
                    description: Required input field for on-premises use cases
                  secret-password:
                    type: string
                    description: Required input field for on-premises use cases
            required:
              - sourceWorkingEnvironmentId
              - migrationWorkingEnvironmentId
              - migrationMappingDetails
        - type: string
          description: Account ID
          required: true
          in: path
          name: accountId
        - type: string
          required: true
          in: header
          name: authorization
      responses:
        "202":
          description: Default response
          schema:
            type: object
            description: Default response
            properties:
              job-id:
                type: string
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/object-storage:
    post:
      description: Creates bucket for specified cloud provider
      tags:
        - Object Storage
      parameters:
        - description: Account ID for the AWS provider
          type: string
          required: false
          in: query
          name: account-id
        - description: Project ID for the Google Cloud provider
          type: string
          required: false
          in: query
          name: project-id
        - description: Resource group for the Azure provider
          type: string
          required: false
          in: query
          name: resource-group
        - description: Subscription for the Azure provider
          type: string
          required: false
          in: query
          name: subscription
        - description: Credential ID for the SGWS or ONTAP S3 provider
          type: string
          required: false
          in: query
          name: credential-id
        - name: body
          in: body
          schema:
            type: object
            properties:
              provider:
                description: Cloud provider
                type: string
              region:
                description: Region
                type: string
              object-lock:
                description: Object lock mode
                enum:
                  - NONE
                  - COMPLIANCE
                  - GOVERNANCE
                  - LOCKED
                  - UNLOCKED
                type: string
              object-store-name:
                description: Object store name
                type: string
              tags:
                type: array
                items:
                  type: object
                  properties:
                    key:
                      description: Tag key
                      type: string
                    value:
                      description: Tag value
                      type: string
                  required:
                    - key
                    - value
              aws:
                type: object
                properties:
                  account-id:
                    description: AWS account ID
                    type: string
                  kms-key-id:
                    description: AWS KMS key ID
                    type: string
                  private-endpoint:
                    type: object
                    properties:
                      id:
                        description: AWS private endpoint ID
                        type: string
                    required:
                      - id
                  archive-storage-class:
                    description: AWS archive storage class
                    type: string
                required:
                  - account-id
              azure:
                type: object
                properties:
                  resource-group:
                    description: Azure resource group
                    type: string
                  storage-account:
                    description: Azure storage account
                    type: string
                  subscription:
                    description: Azure subscription
                    type: string
                  private-endpoint:
                    type: object
                    properties:
                      subnet:
                        description: Azure private endpoint subnet
                        type: string
                    required:
                      - subnet
                  key-vault:
                    type: object
                    properties:
                      key-vault-id:
                        description: Azure Key Vault ID
                        type: string
                      key-name:
                        description: Azure Key Vault key name
                        type: string
                    required:
                      - key-vault-id
                      - key-name
                required:
                  - resource-group
                  - storage-account
                  - subscription
              gcp:
                type: object
                properties:
                  project-id:
                    description: Google Cloud project ID
                    type: string
                  kms:
                    type: object
                    properties:
                      key-ring-id:
                        description: Google Cloud KMS key ring ID
                        type: string
                      crypto-key-id:
                        description: Google Cloud KMS crypto key ID
                        type: string
                    required:
                      - key-ring-id
                      - crypto-key-id
                required:
                  - project-id
              sgws:
                type: object
                properties:
                  credential-id:
                    type: string
                required:
                  - credential-id
              ontap-s3:
                type: object
                properties:
                  credential-id:
                    type: string
                required:
                  - credential-id
            required:
              - provider
              - region
              - object-lock
              - object-store-name
        - description: Account ID
          type: string
          required: true
          in: path
          name: accountId
        - description: Job ID for the create bucket operation
          type: string
          required: true
          in: header
          name: job-id
        - description: Authorization token
          type: string
          required: true
          in: header
          name: authorization
        - description: Agent ID
          type: string
          required: true
          in: header
          name: X-Agent-Id
      responses:
        "202":
          description: Default Response
          schema: {}
    put:
      description: Modifies bucket properties for specified provider
      tags:
        - Object Storage
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              provider:
                description: Cloud provider type
                enum:
                  - AWS
                  - GCP
                  - AZURE
                type: string
              region:
                description: Region for the bucket
                type: string
              object-store-name:
                description: Object store name
                type: string
              aws:
                type: object
                properties:
                  account-id:
                    description: AWS account ID
                    type: string
                  kms-key-id:
                    description: AWS KMS key ID
                    type: string
                required:
                  - account-id
                  - kms-key-id
              azure:
                type: object
                properties:
                  subscription:
                    description: Azure subscription
                    type: string
                  resource-group:
                    description: Azure resource group
                    type: string
                  key-vault:
                    type: object
                    properties:
                      key-vault-id:
                        description: Azure Key Vault ID
                        type: string
                      key-name:
                        description: Azure Key Vault key name
                        type: string
                    required:
                      - key-vault-id
                      - key-name
                required:
                  - subscription
                  - resource-group
                  - key-vault
              gcp:
                type: object
                properties:
                  project-id:
                    description: Google Cloud project ID
                    type: string
                  kms:
                    type: object
                    properties:
                      key-ring-id:
                        description: Google Cloud KMS key ring ID
                        type: string
                      crypto-key-id:
                        description: Google Cloud KMS crypto key ID
                        type: string
                    required:
                      - key-ring-id
                      - crypto-key-id
                required:
                  - project-id
                  - kms
            required:
              - provider
              - region
              - object-store-name
        - description: Authorization token
          type: string
          required: true
          in: header
          name: authorization
        - description: Agent ID
          type: string
          required: true
          in: header
          name: X-Agent-Id
        - description: Job ID for the modify bucket operation
          type: string
          required: true
          in: header
          name: job-id
        - type: string
          required: true
          in: path
          name: accountId
      responses:
        "202":
          description: Default Response
          schema: {}
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/object-storage/{provider}:
    get:
      description: Get buckets for specified cloud provider
      tags:
        - Object Storage
      parameters:
        - description: Account ID
          type: string
          required: true
          in: path
          name: accountId
        - description: Cloud provider type
          enum:
            - AWS
            - GCP
            - AZURE
            - SGWS
            - ONTAP_S3
          type: string
          required: true
          in: path
          name: provider
        - description: Authorization token
          type: string
          required: true
          in: header
          name: authorization
        - description: Agent ID
          type: string
          required: true
          in: header
          name: X-Agent-Id
      responses:
        "200":
          description: Default Response
          schema:
            type: array
            items:
              type: object
              properties:
                object-store-name:
                  description: Bucket name
                  type: string
                region:
                  description: Bucket region
                  type: string
                provider:
                  description: Cloud provider
                  type: string
                creation-time:
                  description: Creation time of the bucket
                  type: string
                account-id:
                  description: Account ID for the AWS provider
                  type: string
                resource-group:
                  description: Resource group for the Azure provider
                  type: string
                subscription:
                  description: Subscription for the Azure provider
                  type: string
                project-id:
                  description: Project ID for the Google Cloud provider
                  type: string
                storage-server:
                  description: Storage server for the SGWS/ONTAP S3 provider
                  type: string
              required:
                - object-store-name
                - provider
                - creation-time
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/object-storage/{provider}/{objectStoreName}:
    get:
      description: Get specific bucket for specified cloud provider
      tags:
        - Object Storage
      parameters:
        - description: Account ID
          type: string
          required: true
          in: path
          name: accountId
        - description: Cloud provider type
          enum:
            - AWS
            - GCP
            - AZURE
            - SGWS
            - ONTAP_S3
          type: string
          required: true
          in: path
          name: provider
        - description: Bucket name
          type: string
          required: true
          in: path
          name: objectStoreName
        - description: Authorization token
          type: string
          required: true
          in: header
          name: authorization
        - description: Agent ID
          type: string
          required: true
          in: header
          name: X-Agent-Id
      responses:
        "200":
          description: Default Response
          schema:
            type: object
            properties:
              object-store-name:
                description: Bucket name
                type: string
              region:
                description: Bucket region
                type: string
              provider:
                description: Cloud provider
                type: string
              account-id:
                description: Account ID for the AWS provider
                type: string
              project-id:
                description: Project ID for the Google Cloud provider
                type: string
              subscription:
                description: Subscription for the Azure provider
                type: string
              encryption:
                description: Encryption type used for the bucket
                type: string
              is-public:
                description: Is the bucket public
                type: boolean
              object-lock:
                description: Object lock enabled for the bucket
                type: string
              resource-group:
                description: Resource group for the Azure provider
                type: string
              tags:
                type: array
                items:
                  type: object
                  properties:
                    key:
                      description: Tag key
                      type: string
                    value:
                      description: Tag value
                      type: string
            required:
              - object-store-name
              - provider
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/configurations:
    put:
      description: API to modify the configuration
      tags:
        - Configuration
      parameters:
        - name: body
          in: body
          schema:
            type: object
            properties:
              key:
                description: Configuration Key
                type: string
              value:
                description: Configuration Value
            required:
              - key
              - value
        - description: Authorization token
          type: string
          required: true
          in: header
          name: authorization
        - description: Agent ID
          type: string
          required: true
          in: header
          name: X-Agent-Id
        - type: string
          required: true
          in: path
          name: accountId
      responses:
        "200":
          description: Default Response
          schema:
            type: object
            properties: {}
        "500":
          description: Default Response
          schema:
            type: object
            properties:
              statusCode:
                type: number
              error:
                type: string
              message:
                type: string
            example:
              statusCode: 500
              error: Internal Server Error
              message: Configuration property "feature-flags.update-db-backups" is not defined
  /account/{accountId}/providers/cloudmanager_cbs/api/v1/configurations/{key}:
    get:
      description: API to get the configuration value for a given key
      tags:
        - Configuration
      parameters:
        - description: Configuration Key
          type: string
          required: true
          in: path
          name: key
        - description: Account ID
          type: string
          required: true
          in: path
          name: accountId
        - description: Authorization token
          type: string
          required: true
          in: header
          name: authorization
        - description: Agent ID
          type: string
          required: true
          in: header
          name: X-Agent-Id
      responses:
        "200":
          description: Default Response
          schema:
            type: object
            properties:
              value:
                type: string
        "500":
          description: Default Response
          schema:
            type: object
            properties:
              statusCode:
                type: number
              error:
                type: string
              message:
                type: string
            example:
              statusCode: 500
              error: Internal Server Error
              message: Configuration property "feature-flags.update-db-backups" is not defined
host: localhost:8061
schemes:
  - http
consumes:
  - application/json
produces:
  - application/json
tags:
  - name: SFR
    description: <details><summary>Overview</summary><p>The single file restore
      (SFR) endpoints retrieve files from the volume snapshots.</p><p>You
      can perform the following operations by using the SFR
      endpoints:<br><ul><li>Start a Snapshot backup file explore
      operation.</li><li>Retrieve Snapshot backup file explore
      status.</li><li>List files during Snapshot backup file explore
      operations.</li><br></ul></p></details>
  - name: Backup
    description: <details><summary>Overview</summary><p>The backup endpoints manage
      backup operations of cloud and on-premises resources and retrieve details
      of the backup data when required. You can perform the following operations
      by using the Backup endpoints:</p><ul><li>Retrieve details of the backup
      data of a system, volumes, and snapshots.</li><br><li>Enable cloud backup on a system, back up
      volumes, and create on-demand backups.</li><br><li>Modify the backup
      configuration of systems and volumes.</li><br><li>Disable
      backups for systems and volumes, and delete
      backups.</li></ul></details>
  - name: Restore
    description: <details><summary>Overview</summary><p>The restore endpoints enable
      you to perform volume, folder and file-level restore operations. You can
      perform the following operations by using the Restore
      endpoints:</p><ul><li>Restore volumes, folder, and files.
      </li><br><li>Retrieve volume, folder, and file restore
      status.</li><br></ul></details>
  - name: System
    description: <details><summary>Overview</summary><p>The system
      endpoints retrieves details of the systems, manage the backup
      policies and configure an object store associated with a system.</p><p>You can perform the following operations by using the
      system endpoints:</p><ul><li>Retrieve the list and details of
      systems, backup policies, IP spaces, storage VMs,
      and  volumes, snapshot-policies, peer-cluster relationships, and
      SnapMirror relationships.</li><br><li>Create a backup policy and configure
      an object store.</li><br><li>List system volume
      directories.</li><br><li>Modify a backup policy. </li></ul></details>
  - name: Cloud
    description: <details><summary>Overview</summary><p>The cloud endpoints enable
      you to retrieve information about various resources of the AWS, Azure,
      Google Cloud providers from the NetApp Console SaaS application.</p><p>You can
      perform the following actions by using the
      cloud  endpoints:</p><ul><li>Retrieve the accounts, AWS region keys, AWS
      region private links, AWS archival storage class, Azure subscription,
      Azure subscription regions, Azure subscription resource-group, Azure
      subscription VNet, Azure subscription vault key, Google Cloud projects,
      Google Cloud project region, Google Key Rings and more.</li><br><li>Create
      a subscription resource-group.</li><br></ul></details>
  - name: Job
    description: <details><summary>Overview</summary><p>The Job endpoints display
      information about jobs executed on the NetApp Console SaaS application.</p><p>You
      can perform the following operation by using the Job
      endpoints:</p><ul><li>Retrieve a list of jobs and job
      details.</li></ul></details>
  - name: Catalog
    description: <details><summary>Overview</summary><p>The catalog endpoints manage
      the indexed catalog search for files based on a query. You can perform the
      following operations by using the Catalog endpoints:</p><ul><li>Initiate
      an indexed catalog search based on a query  </li><br><li>Retrieve a list
      of snapshots pertaining to a particular volume by using the Catalog
      Index query</li><br><li>Configure an indexed catalog service on AWS,
      Azure, Google Cloud and on-premises or dark sites. </li><br><li>Modify the state of
      an indexed catalog service.</li></ul></details>
  - name: License
    description: <details><summary>Overview</summary><p>The license endpoints enable
      you to retrieve the license validity of the systems from the
      NetApp Console SaaS application. A valid license is required to activate NetApp
      Backup and Recovery on a system, create backups of your
      production data, and  restore backup data on a production system. This API
      retrieves the eligibility of the current license used and returns the days
      remaining if you are using a trial license.</p></details>
  - name: Ransomware Scan
    description: <details><summary>Overview</summary><p>The Ransomware scan API
      endpoint enables you to initiate a ransomware scan on a specified snapshot
      available in the cloud object-store bucket. It scans only cloud
      backups. It does not support scanning local snapshots. Ransomware
      attacks on local snapshots cannot be detected.</p></details>
  - name: Panoramic Protection
    description: <details><summary>Overview</summary><p>The Panaromic Protection API
      enables you to automate the complete 3-2-1 backup spectrum using a single
      control plane to simplify your implementation of the various components of
      3-2-1 model where they are needed, without using multiple resource
      managers and assistance from specially trained personnel. You can
      configure backups either in a cascading workflow or fan-out workflow. You
      can perform the following operations by using the Panaromic Protection
      endpoints:</p><ul><li>Enable 3-2-1 backup on systems by
      creating the required cluster-peering for replication and the required
      object-store buckets for backup to cloud in cascading or fan-out
      topologies.  </li><br><li> Modify 3-2-1 backup on systems by
      configuring the setup required for replication or backup to cloud, to
      create cascading or fan-out topologies. </li><br><li>Create 3-2-1
      cascading or fan-out backup topologies by configuring volume replication
      and backup to cloud relationship. </li><br><li>Modify or add 3-2-1 backup
      on volumes by configuring replication or backup to cloud, to create
      cascading or fan-out topologies.</li></ul></details>
  - name: Replication
    description: <details><summary>Overview</summary><p>The Replication enpoint
      enables you to perform an action on a volume on which SnapMirror
      replication is enabled. Using this API, you will be able to perform a
      SnapMirror relationship update, delete, pause, resync, reverse-resync,
      abort, and resume functionality on a replicated volume.</p></details>
  - name: Report
    description: <details><summary>Overview</summary><p>The report endpoints enable
      users to create and retrieve an inventory report for the whole account or
      a specific list of systems. It is also possible to generate
      reports for specific storage VMs under a system. You can
      perform the following operations by using the report
      endpoints:</p><ul><li>Generate an inventory report</li><br><li>Retrieve
      inventory reports</li></ul></details>
  - name: StorageGRID
    description: <details><summary>Overview</summary><p>The StorageGRID API
      endpoints retrieve version and details of the StorageGRID server. You can
      also discover StorageGRID WebScale server in the NetApp Console SaaS
      application.</p><p>You can perform the following operations by using the
      StorageGRID endpoints:<br><ul><li>Retrieve StorageGRID server
      version</li><li>Retrieve details of the StorageGRID
      server.</li><li>Discover or add new StorageGRID server into the
      NetApp Console.</li><br></ul></p></details>